
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://training.nextflow.io/2.0/pt/hello_nextflow/06_hello_config/">
      
      
        <link rel="prev" href="../05_hello_operators/">
      
      
        <link rel="next" href="../07_hello_modules/">
      
      
      <link rel="icon" href="../../../assets/img/nextflow-icon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>Part 5: Hello Config - training.nextflow.io</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/fonts.css">
    
      <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-244N3GEN75"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-244N3GEN75",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-244N3GEN75",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-5-hello-config" class="md-skip">
          Ir para o conteúdo
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
<div style="text-align: center">
    <span>Next community training</span>:
    <strong>March 5-6, 2024</strong> on YouTube, with
    support on Slack
    <span class="twemoji" style="margin-left: 0.5em">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </span>
    <span class="twemoji" style="margin-right: 0.5em">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg>
    </span>
    <a
        class="md-button"
        href="https://nf-co.re/events/2024/training-foundational-march"
        target="_blank"
    >
        Register here
        <span class="twemoji"
            ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path
                    d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"
                ></path></svg
        ></span>
    </a>
</div>

<style type="text/css">
    .md-banner {
        display: none;
    }
</style>
 
          </div>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabeçalho">
    <a href="../../" title="training.nextflow.io" class="md-header__button md-logo" aria-label="training.nextflow.io" data-md-component="logo">
      
  <img src="../../../assets/img/nextflow-logo-white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            training.nextflow.io
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part 5: Hello Config
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Selecione o idioma">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../hello_nextflow/06_hello_config/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="pt" class="md-select__link">
              Português
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../es/hello_nextflow/06_hello_config/" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../fr/hello_nextflow/06_hello_config/" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Pesquisar">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Compartilhar" aria-label="Compartilhar" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Limpar" aria-label="Limpar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando a pesquisa
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/nextflow-io/training" title="Ir ao repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    nextflow-io/training
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Abas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../envsetup/" class="md-tabs__link">
          
  
  Environment setup

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  Hello Nextflow

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../basic_training/" class="md-tabs__link">
          
  
  Fundamentals Training

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../advanced/" class="md-tabs__link">
          
  
  Advanced Training

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../nf_customize/" class="md-tabs__link">
          
  
  Configure nf-core

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../nf_develop/" class="md-tabs__link">
          
  
  Develop nf-core

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../troubleshoot/" class="md-tabs__link">
          
  
  Troubleshooting

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegação" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="training.nextflow.io" class="md-nav__button md-logo" aria-label="training.nextflow.io" data-md-component="logo">
      
  <img src="../../../assets/img/nextflow-logo-white.png" alt="logo">

    </a>
    training.nextflow.io
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nextflow-io/training" title="Ir ao repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    nextflow-io/training
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Environment setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Environment setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../envsetup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuração do ambiente
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../envsetup/01_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gitpod
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../envsetup/02_local/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instalação local
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Hello Nextflow
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Hello Nextflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hello Nextflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_orientation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orientação
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02_hello_world/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 1: Hello World
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_hello_containers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 2: Hello Containers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04_hello_genomics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 3: Hello Genomics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05_hello_operators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 4: Hello Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Part 5: Hello Config
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Part 5: Hello Config
  </span>
  

      </a>
      
          

<nav class="md-nav md-nav--secondary" aria-label="On this page">
         
    <label class="md-nav__title" for="__toc">
        <span class="md-nav__icon md-icon"></span>
        On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
         <li class="md-nav__item">
  <a href="#0-warmup-moving-to-a-formal-project-structure" class="md-nav__link">
    <span class="md-ellipsis">
      0. Warmup: Moving to a formal project structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0. Warmup: Moving to a formal project structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#01-explore-the-hello-config-directory" class="md-nav__link">
    <span class="md-ellipsis">
      0.1. Explore the hello-config directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#02-create-a-symbolic-link-to-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      0.2. Create a symbolic link to the data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#03-verify-that-the-initial-workflow-runs-properly" class="md-nav__link">
    <span class="md-ellipsis">
      0.3. Verify that the initial workflow runs properly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#1-determine-what-software-packaging-technology-to-use" class="md-nav__link">
    <span class="md-ellipsis">
      1. Determine what software packaging technology to use
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Determine what software packaging technology to use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-disable-docker-in-the-config-file" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Disable Docker in the config file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-run-the-workflow-without-docker" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Run the workflow without Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-enable-conda-in-the-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Enable Conda in the configuration file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-specify-conda-packages-in-the-process-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. Specify Conda packages in the process definitions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.4. Specify Conda packages in the process definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141-update-samtools_index" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.1. Update SAMTOOLS_INDEX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142-update-gatk_haplotypecaller" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.2. Update GATK_HAPLOTYPECALLER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143-update-gatk_jointgenotyping" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.3. Update GATK_JOINTGENOTYPING
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-run-the-workflow-to-verify-that-it-can-use-conda" class="md-nav__link">
    <span class="md-ellipsis">
      1.5. Run the workflow to verify that it can use Conda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_1" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_1" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#2-use-profiles-to-select-preset-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      2. Use profiles to select preset configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Use profiles to select preset configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-create-profiles-for-switching-between-docker-and-conda" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Create profiles for switching between Docker and Conda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-run-the-workflow-with-a-profile" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Run the workflow with a profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_2" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_2" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#3-determine-what-executors-should-be-used-to-do-the-work" class="md-nav__link">
    <span class="md-ellipsis">
      3. Determine what executor(s) should be used to do the work
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Determine what executor(s) should be used to do the work">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-set-up-a-slurm-executor" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Set up a Slurm executor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-launch-the-workflow-to-generate-the-job-submission-script" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Launch the workflow to generate the job submission script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-set-up-profiles-for-executors-too" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Set up profiles for executors too
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-run-with-a-combination-of-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Run with a combination of profiles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-create-profiles-that-combine-several-configuration-elements" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Create profiles that combine several configuration elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_3" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_3" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#4-allocate-compute-resources-with-process-directives" class="md-nav__link">
    <span class="md-ellipsis">
      4. Allocate compute resources with process directives
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Allocate compute resources with process directives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-increase-default-process-resource-allocations" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Increase default process resource allocations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-run-the-workflow-with-the-increased-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Run the workflow with the increased defaults
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-run-the-workflow-to-generate-a-resource-utilization-report" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Run the workflow to generate a resource utilization report
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-adjust-resource-allocations-for-a-specific-process" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Adjust resource allocations for a specific process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-run-again-with-the-modified-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      4.5. Run again with the modified configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-add-resource-limits-to-an-hpc-profile" class="md-nav__link">
    <span class="md-ellipsis">
      4.6. Add resource limits to an HPC profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_4" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_4" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#5-configure-workflow-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      5. Configure workflow parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Configure workflow parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-move-the-default-parameter-declarations-to-the-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Move the default parameter declarations to the configuration file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-run-the-workflow-with-resume-to-verify-that-it-still-works" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Run the workflow with -resume to verify that it still works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-streamline-the-syntax-of-the-parameter-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Streamline the syntax of the parameter defaults
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-using-a-parameter-file-to-override-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      5.4. Using a parameter file to override defaults
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-remove-or-generalize-default-values-from-nextflowconfig" class="md-nav__link">
    <span class="md-ellipsis">
      5.5. Remove or generalize default values from nextflow.config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-create-a-demo-profile" class="md-nav__link">
    <span class="md-ellipsis">
      5.6. Create a demo profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57-run-with-the-demo-profile" class="md-nav__link">
    <span class="md-ellipsis">
      5.7. Run with the demo profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_5" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_5" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li> 
    </ul>
    
</nav>
<nav class="md-nav md-nav--secondary sidebar_resources" aria-label="Resources">
    <label class="md-nav__title">Resources</label>
    <ul class="md-nav__list">
        <li class="md-nav__item">
            <a
                href="https://nextflow.io/docs/latest/index.html"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M17.5 14.33c.79 0 1.63.08 2.5.24v1.5c-.62-.16-1.46-.24-2.5-.24-1.9 0-3.39.33-4.5.99v-1.69c1.17-.53 2.67-.8 4.5-.8M13 12.46c1.29-.53 2.79-.79 4.5-.79.79 0 1.63.07 2.5.23v1.5c-.62-.16-1.46-.24-2.5-.24-1.9 0-3.39.34-4.5.99m4.5-3.65c-1.9 0-3.39.32-4.5 1V9.84c1.23-.56 2.73-.84 4.5-.84.79 0 1.63.08 2.5.23v1.55c-.74-.19-1.59-.28-2.5-.28m3.5 8V7c-1.04-.33-2.21-.5-3.5-.5-2.05 0-3.88.5-5.5 1.5v11.5c1.62-1 3.45-1.5 5.5-1.5 1.19 0 2.36.16 3.5.5m-3.5-14c2.35 0 4.19.5 5.5 1.5v14.56c0 .12-.05.24-.16.35-.11.09-.23.17-.34.17-.11 0-.19-.02-.25-.05-1.28-.69-2.87-1.03-4.75-1.03-2.05 0-3.88.5-5.5 1.5-1.34-1-3.17-1.5-5.5-1.5-1.66 0-3.25.36-4.75 1.07-.03.01-.07.01-.12.03-.04.01-.08.02-.13.02-.11 0-.23-.04-.34-.12a.475.475 0 0 1-.16-.35V6c1.34-1 3.18-1.5 5.5-1.5 2.33 0 4.16.5 5.5 1.5 1.34-1 3.17-1.5 5.5-1.5Z"
                    ></path>
                </svg>
                Nextflow Docs
            </a>
        </li>
        <li class="md-nav__item">
            <a
                href="https://www.nextflow.io/slack-invite.html"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M6 15a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2h2v2m1 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-5m2-8a2 2 0 0 1-2-2 2 2 0 0 1 2-2 2 2 0 0 1 2 2v2H9m0 1a2 2 0 0 1 2 2 2 2 0 0 1-2 2H4a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5m8 2a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2h-2v-2m-1 0a2 2 0 0 1-2 2 2 2 0 0 1-2-2V5a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5m-2 8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2v-2h2m0-1a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-5Z"
                    ></path>
                </svg>
                Nextflow Slack
            </a>
        </li>
        <li class="md-nav__item">
            <a
                href="https://nextflow.io/"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <svg
                    version="1.1"
                    id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="80 50 350 350"
                >
                    <style type="text/css">
                        .st0 {
                            fill: "gray";
                        }
                    </style>
                    <path
                        class="st0"
                        d="M124.5,171.5c39.4,2.6,71.1,34.3,73.5,73.8h46.1c-2.6-65-54.7-117.2-119.6-119.9V171.5z"
                    />
                    <path
                        class="st0"
                        d="M198.3,255.8c-2.6,39.5-34.3,71.1-73.8,73.5v46.1c65-2.6,117.2-54.7,119.9-119.6H198.3z"
                    />
                    <path
                        class="st0"
                        d="M300.7,245c2.6-39.5,34.3-71.1,73.8-73.5v-46.1c-65,2.6-117.2,54.7-119.9,119.6H300.7z"
                    />
                    <path
                        class="st0"
                        d="M374.5,329.3c-39.4-2.6-71.1-34.3-73.5-73.8h-46.1c2.6,65,54.7,117.2,119.6,119.9V329.3z"
                    />
                </svg>
                Nextflow Homepage
            </a>
        </li>
        <li class="md-nav__item">
            <a
                href="https://seqera.io/"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <?xml version="1.0" encoding="utf-8"?>
                <!-- Generator: Adobe Illustrator 28.3.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                <svg
                    version="1.1"
                    id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px"
                    y="0px"
                    viewBox="80 50 350 350"
                    style="enable-background: new 0 0 500 500"
                    xml:space="preserve"
                >
                    <style type="text/css">
                        .st0 {
                            clip-path: url(#SVGID_00000006699037935518914080000000086571810102047141_);
                        }
                        .st1 {
                            fill: "gray";
                        }
                    </style>
                    <g>
                        <defs>
                            <rect
                                id="SVGID_1_"
                                x="125"
                                y="125"
                                width="250"
                                height="250"
                            />
                        </defs>
                        <clipPath
                            id="SVGID_00000183214694142566821210000012389151436317298101_"
                        >
                            <use
                                xlink:href="#SVGID_1_"
                                style="overflow: visible"
                            />
                        </clipPath>
                        <g
                            style="
                                clip-path: url(#SVGID_00000183214694142566821210000012389151436317298101_);
                            "
                        >
                            <path
                                class="st1"
                                d="M375,333l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.8l-0.2-0.9l-0.2-0.8l-0.2-0.8
                      l-0.2-0.8l-0.2-0.8l-0.2-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8
                      l-0.4-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7L365,308l-0.6-0.6l-0.6-0.6l-0.6-0.6l-0.6-0.6L362,305
                      l-0.6-0.6l-0.7-0.6l-0.6-0.5l-1.2,0.7l-0.8,0.5l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.9,0.4l-0.9,0.4l-0.9,0.3l-0.9,0.3
                      l-0.9,0.3l-0.9,0.3l-0.9,0.3l-0.9,0.3l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.1l-0.9,0.1l-0.9,0.1l-0.9,0.1
                      l-0.9,0.1l-0.9,0.1l-0.9,0.1l-0.9,0l-0.9,0h-57.5l59.7,16.4l0.4,0.1l0.4,0.1l0.4,0.1l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2
                      l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.1,0.3l0.1,0.3l0.1,0.4l0.1,0.4
                      l0.1,0.4l0.1,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.3l-0.1,0.4l-0.1,0.3l-0.2,0.3l-0.2,0.3
                      l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.3,0.3l-0.3,0.3l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2
                      l-0.3,0.1l-0.4,0.2l-0.4,0.1l-0.3,0.1l-0.4,0.1l-0.4,0.1l-0.4,0.1l-0.4,0l-0.4,0l-0.4,0H125V375h209.7l0.9,0l0.9,0l0.9,0l0.8-0.1
                      l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.8-0.1l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3
                      l0.8-0.4l0.8-0.4l0.8-0.4l0.8-0.4l0.8-0.4l0.7-0.4l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5
                      l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.4-0.7
                      l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8
                      l0.2-0.8l0.1-0.8l0.1-0.9l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.9l0.1-0.8l0-0.9l0-0.9l0-0.8L375,333z"
                            />
                            <path
                                class="st1"
                                d="M375,260.4l-0.1-0.9l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.8l-0.1-0.8l-0.1-0.8l-0.2-0.8l-0.2-0.8l-0.2-0.8
                      l-0.2-0.8l-0.2-0.8l-0.2-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.7
                      l-0.4-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.2-0.2h0h-89.8l59.7,16.4l0.4,0.1l0.4,0.1l0.4,0.1l0.3,0.2l0.3,0.2l0.3,0.2
                      l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.1,0.4l0.1,0.3
                      l0.1,0.4l0.1,0.4l0.1,0.4l0.1,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.3l-0.1,0.4
                      l-0.2,0.4l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.3,0.3l-0.3,0.3l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2
                      l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.4,0.2l-0.4,0.1l-0.3,0.1l-0.4,0.1l-0.4,0.1l-0.4,0.1l-0.4,0l-0.4,0l-0.4,0h-82.5h-111H125v32.2
                      h122.8h86.9h0.9l0.9,0l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.3
                      l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.4l0.8-0.4l0.2-0.1l0.6-0.3l0.8-0.4l0.8-0.4l0.7-0.4l0.7-0.4l0.7-0.5l0.7-0.5l0.7-0.5
                      l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.5-0.7l0.5-0.7l0.5-0.7
                      l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.4-0.7l0.4-0.7l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.3-0.8
                      l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.1-0.8l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.9l0-0.8l0-0.9l0-0.9
                      L375,260.4z"
                            />
                            <path
                                class="st1"
                                d="M165.3,197.6l-0.9,0l-0.8,0l-0.9,0l-0.9,0.1l-0.8,0.1l-0.9,0.1l-0.8,0.1l-0.8,0.1l-0.8,0.2l-0.8,0.2l-0.8,0.2
                      l-0.8,0.2l-0.8,0.2l-0.8,0.2l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.4l-0.8,0.4l-0.2,0.1l-0.6,0.3l-0.8,0.4
                      l-0.8,0.4l-0.8,0.4l-0.7,0.4l-0.7,0.5l-0.7,0.5L142,205l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6
                      l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.5,0.6l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.4,0.7l-0.5,0.7l-0.4,0.7
                      l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.2,0.8l-0.2,0.8l-0.2,0.8
                      l-0.2,0.8l-0.2,0.8l-0.2,0.8l-0.1,0.9l-0.1,0.9l-0.1,0.8l-0.1,0.9l-0.1,0.9l0,0.9l0,0.9v0.9v0.9l0,0.8l0,0.9l0.1,0.8l0.1,0.8
                      l0.1,0.9l0.1,0.9l0.1,0.8l0.2,0.9l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8
                      l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.7l0.5,0.7l0.4,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.2,0.2h89.8l-59.7-16.4l-0.4-0.1l-0.3-0.1
                      l-0.4-0.1l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3
                      l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4
                      l0-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3
                      l0.3-0.3l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.4-0.2l0.3-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4,0l0.4,0
                      h0.4h82.5h111H375v-32.3H252.2H165.3z"
                            />
                            <path
                                class="st1"
                                d="M165.3,125l-0.9,0l-0.8,0l-0.9,0.1l-0.9,0.1l-0.8,0.1l-0.9,0.1l-0.8,0.1l-0.8,0.1l-0.8,0.2l-0.8,0.2l-0.8,0.2
                      l-0.8,0.2l-0.8,0.2l-0.8,0.2l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.8,0.4
                      l-0.8,0.4l-0.7,0.5l-0.7,0.4l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.6l-0.7,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6
                      l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.4,0.7l-0.5,0.7l-0.4,0.7
                      l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.2,0.8l-0.2,0.8l-0.2,0.8
                      l-0.2,0.8l-0.2,0.8l-0.2,0.8l-0.1,0.9l-0.1,0.8l-0.1,0.9l-0.1,0.8l-0.1,0.9l0,0.9l0,0.9v0.9v0.9l0,0.9l0,0.8l0.1,0.9l0.1,0.9
                      l0.1,0.8l0.1,0.8l0.1,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8
                      l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.7l0.5,0.7l0.4,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.6,0.6l0.6,0.6
                      l0.6,0.6l0.6,0.6l0.6,0.6l0.6,0.6l0.6,0.6l0.7,0.6l0.6,0.5h0l1.1-0.7l0.8-0.5l0.8-0.5l0.8-0.4l0.8-0.4l0.9-0.4l0.9-0.4l0.9-0.4
                      l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.1l0.9-0.1l0.9-0.1l0.9-0.1
                      l0.9-0.1l0.9-0.1l0.9,0l0.9,0l0.9,0h57.5l-59.7-16.4l-0.4-0.1l-0.3-0.1l-0.4-0.1l-0.3-0.1l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2
                      l-0.3-0.2l-0.3-0.2l-0.3-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.1-0.3l-0.1-0.4
                      l-0.1-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.3
                      l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2
                      l0.3-0.2l0.4-0.1l0.3-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4,0l0.4,0l0.4,0H375V125H165.3z"
                            />
                        </g>
                    </g>
                </svg>
                Seqera
            </a>
        </li>
        <li class="md-nav__item">
            <a
                href="https://github.com/nextflow-io/training"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"
                    ></path>
                </svg>
                Training on GitHub
            </a>
        </li>
    </ul>
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07_hello_modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 6: Hello Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08_hello_nf-test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 7: Hello nf-test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09_hello_nf-core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 8: Hello nf-core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10_hello_seqera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 9: Hello Seqera
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Fundamentals Training
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Fundamentals Training
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bem vindo ao treinamento básico do Nextflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/orientation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orientação
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introdução
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/rnaseq_pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluxo de trabalho simples de RNA-Seq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/containers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gerencie dependências e contêineres
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/channels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Canais
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/processes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Processos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/operators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operadores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/groovy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introdução ao Groovy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modularização
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuração
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/executors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cenários de implantação
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/seqera_platform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Seqera Platform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/cache_and_resume/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cache e reentrância
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic_training/debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resolução de problemas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced Training
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Advanced Training
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Training
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/orientation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orientation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/operators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operator Tour
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metadata Propagation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/grouping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grouping and Splitting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/groovy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Groovy Imports
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflow Structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/summary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configure nf-core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Configure nf-core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_customize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure nf-core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_customize/01_orientation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orientation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_customize/02_nf-core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is nf-core?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_customize/03_execution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nf-core/demo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_customize/04_config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_customize/05_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools for users
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Develop nf-core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Develop nf-core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_develop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Develop nf-core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_develop/1_01_orientation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orientation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_develop/1_02_create/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_develop/1_03_pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nf_develop/1_04_parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding parameters
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/01_orientation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orientation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/01_exercise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/02_exercise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/03_exercise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/04_exercise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/05_exercise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshoot/06_exercise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 6
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                      

<nav class="md-nav md-nav--secondary" aria-label="On this page">
         
    <label class="md-nav__title" for="__toc">
        <span class="md-nav__icon md-icon"></span>
        On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
         <li class="md-nav__item">
  <a href="#0-warmup-moving-to-a-formal-project-structure" class="md-nav__link">
    <span class="md-ellipsis">
      0. Warmup: Moving to a formal project structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0. Warmup: Moving to a formal project structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#01-explore-the-hello-config-directory" class="md-nav__link">
    <span class="md-ellipsis">
      0.1. Explore the hello-config directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#02-create-a-symbolic-link-to-the-data" class="md-nav__link">
    <span class="md-ellipsis">
      0.2. Create a symbolic link to the data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#03-verify-that-the-initial-workflow-runs-properly" class="md-nav__link">
    <span class="md-ellipsis">
      0.3. Verify that the initial workflow runs properly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#1-determine-what-software-packaging-technology-to-use" class="md-nav__link">
    <span class="md-ellipsis">
      1. Determine what software packaging technology to use
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Determine what software packaging technology to use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-disable-docker-in-the-config-file" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Disable Docker in the config file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-run-the-workflow-without-docker" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Run the workflow without Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-enable-conda-in-the-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Enable Conda in the configuration file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-specify-conda-packages-in-the-process-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. Specify Conda packages in the process definitions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.4. Specify Conda packages in the process definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#141-update-samtools_index" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.1. Update SAMTOOLS_INDEX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#142-update-gatk_haplotypecaller" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.2. Update GATK_HAPLOTYPECALLER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#143-update-gatk_jointgenotyping" class="md-nav__link">
    <span class="md-ellipsis">
      1.4.3. Update GATK_JOINTGENOTYPING
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-run-the-workflow-to-verify-that-it-can-use-conda" class="md-nav__link">
    <span class="md-ellipsis">
      1.5. Run the workflow to verify that it can use Conda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_1" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_1" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#2-use-profiles-to-select-preset-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      2. Use profiles to select preset configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Use profiles to select preset configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-create-profiles-for-switching-between-docker-and-conda" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Create profiles for switching between Docker and Conda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-run-the-workflow-with-a-profile" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Run the workflow with a profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_2" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_2" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#3-determine-what-executors-should-be-used-to-do-the-work" class="md-nav__link">
    <span class="md-ellipsis">
      3. Determine what executor(s) should be used to do the work
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Determine what executor(s) should be used to do the work">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-set-up-a-slurm-executor" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Set up a Slurm executor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-launch-the-workflow-to-generate-the-job-submission-script" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Launch the workflow to generate the job submission script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-set-up-profiles-for-executors-too" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Set up profiles for executors too
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-run-with-a-combination-of-profiles" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Run with a combination of profiles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-create-profiles-that-combine-several-configuration-elements" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Create profiles that combine several configuration elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_3" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_3" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#4-allocate-compute-resources-with-process-directives" class="md-nav__link">
    <span class="md-ellipsis">
      4. Allocate compute resources with process directives
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Allocate compute resources with process directives">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-increase-default-process-resource-allocations" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Increase default process resource allocations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-run-the-workflow-with-the-increased-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Run the workflow with the increased defaults
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-run-the-workflow-to-generate-a-resource-utilization-report" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Run the workflow to generate a resource utilization report
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-adjust-resource-allocations-for-a-specific-process" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Adjust resource allocations for a specific process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-run-again-with-the-modified-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      4.5. Run again with the modified configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-add-resource-limits-to-an-hpc-profile" class="md-nav__link">
    <span class="md-ellipsis">
      4.6. Add resource limits to an HPC profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_4" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_4" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>  <li class="md-nav__item">
  <a href="#5-configure-workflow-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      5. Configure workflow parameters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Configure workflow parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-move-the-default-parameter-declarations-to-the-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Move the default parameter declarations to the configuration file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-run-the-workflow-with-resume-to-verify-that-it-still-works" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Run the workflow with -resume to verify that it still works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-streamline-the-syntax-of-the-parameter-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Streamline the syntax of the parameter defaults
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-using-a-parameter-file-to-override-defaults" class="md-nav__link">
    <span class="md-ellipsis">
      5.4. Using a parameter file to override defaults
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-remove-or-generalize-default-values-from-nextflowconfig" class="md-nav__link">
    <span class="md-ellipsis">
      5.5. Remove or generalize default values from nextflow.config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-create-a-demo-profile" class="md-nav__link">
    <span class="md-ellipsis">
      5.6. Create a demo profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57-run-with-the-demo-profile" class="md-nav__link">
    <span class="md-ellipsis">
      5.7. Run with the demo profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#takeaway_5" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-next_5" class="md-nav__link">
    <span class="md-ellipsis">
      What's next?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li> 
    </ul>
    
</nav>
<nav class="md-nav md-nav--secondary sidebar_resources" aria-label="Resources">
    <label class="md-nav__title">Resources</label>
    <ul class="md-nav__list">
        <li class="md-nav__item">
            <a
                href="https://nextflow.io/docs/latest/index.html"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M17.5 14.33c.79 0 1.63.08 2.5.24v1.5c-.62-.16-1.46-.24-2.5-.24-1.9 0-3.39.33-4.5.99v-1.69c1.17-.53 2.67-.8 4.5-.8M13 12.46c1.29-.53 2.79-.79 4.5-.79.79 0 1.63.07 2.5.23v1.5c-.62-.16-1.46-.24-2.5-.24-1.9 0-3.39.34-4.5.99m4.5-3.65c-1.9 0-3.39.32-4.5 1V9.84c1.23-.56 2.73-.84 4.5-.84.79 0 1.63.08 2.5.23v1.55c-.74-.19-1.59-.28-2.5-.28m3.5 8V7c-1.04-.33-2.21-.5-3.5-.5-2.05 0-3.88.5-5.5 1.5v11.5c1.62-1 3.45-1.5 5.5-1.5 1.19 0 2.36.16 3.5.5m-3.5-14c2.35 0 4.19.5 5.5 1.5v14.56c0 .12-.05.24-.16.35-.11.09-.23.17-.34.17-.11 0-.19-.02-.25-.05-1.28-.69-2.87-1.03-4.75-1.03-2.05 0-3.88.5-5.5 1.5-1.34-1-3.17-1.5-5.5-1.5-1.66 0-3.25.36-4.75 1.07-.03.01-.07.01-.12.03-.04.01-.08.02-.13.02-.11 0-.23-.04-.34-.12a.475.475 0 0 1-.16-.35V6c1.34-1 3.18-1.5 5.5-1.5 2.33 0 4.16.5 5.5 1.5 1.34-1 3.17-1.5 5.5-1.5Z"
                    ></path>
                </svg>
                Nextflow Docs
            </a>
        </li>
        <li class="md-nav__item">
            <a
                href="https://www.nextflow.io/slack-invite.html"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M6 15a2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2h2v2m1 0a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-5m2-8a2 2 0 0 1-2-2 2 2 0 0 1 2-2 2 2 0 0 1 2 2v2H9m0 1a2 2 0 0 1 2 2 2 2 0 0 1-2 2H4a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5m8 2a2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2h-2v-2m-1 0a2 2 0 0 1-2 2 2 2 0 0 1-2-2V5a2 2 0 0 1 2-2 2 2 0 0 1 2 2v5m-2 8a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2v-2h2m0-1a2 2 0 0 1-2-2 2 2 0 0 1 2-2h5a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-5Z"
                    ></path>
                </svg>
                Nextflow Slack
            </a>
        </li>
        <li class="md-nav__item">
            <a
                href="https://nextflow.io/"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <svg
                    version="1.1"
                    id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="80 50 350 350"
                >
                    <style type="text/css">
                        .st0 {
                            fill: "gray";
                        }
                    </style>
                    <path
                        class="st0"
                        d="M124.5,171.5c39.4,2.6,71.1,34.3,73.5,73.8h46.1c-2.6-65-54.7-117.2-119.6-119.9V171.5z"
                    />
                    <path
                        class="st0"
                        d="M198.3,255.8c-2.6,39.5-34.3,71.1-73.8,73.5v46.1c65-2.6,117.2-54.7,119.9-119.6H198.3z"
                    />
                    <path
                        class="st0"
                        d="M300.7,245c2.6-39.5,34.3-71.1,73.8-73.5v-46.1c-65,2.6-117.2,54.7-119.9,119.6H300.7z"
                    />
                    <path
                        class="st0"
                        d="M374.5,329.3c-39.4-2.6-71.1-34.3-73.5-73.8h-46.1c2.6,65,54.7,117.2,119.6,119.9V329.3z"
                    />
                </svg>
                Nextflow Homepage
            </a>
        </li>
        <li class="md-nav__item">
            <a
                href="https://seqera.io/"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <?xml version="1.0" encoding="utf-8"?>
                <!-- Generator: Adobe Illustrator 28.3.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                <svg
                    version="1.1"
                    id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px"
                    y="0px"
                    viewBox="80 50 350 350"
                    style="enable-background: new 0 0 500 500"
                    xml:space="preserve"
                >
                    <style type="text/css">
                        .st0 {
                            clip-path: url(#SVGID_00000006699037935518914080000000086571810102047141_);
                        }
                        .st1 {
                            fill: "gray";
                        }
                    </style>
                    <g>
                        <defs>
                            <rect
                                id="SVGID_1_"
                                x="125"
                                y="125"
                                width="250"
                                height="250"
                            />
                        </defs>
                        <clipPath
                            id="SVGID_00000183214694142566821210000012389151436317298101_"
                        >
                            <use
                                xlink:href="#SVGID_1_"
                                style="overflow: visible"
                            />
                        </clipPath>
                        <g
                            style="
                                clip-path: url(#SVGID_00000183214694142566821210000012389151436317298101_);
                            "
                        >
                            <path
                                class="st1"
                                d="M375,333l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.8l-0.2-0.9l-0.2-0.8l-0.2-0.8
                      l-0.2-0.8l-0.2-0.8l-0.2-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8
                      l-0.4-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7L365,308l-0.6-0.6l-0.6-0.6l-0.6-0.6l-0.6-0.6L362,305
                      l-0.6-0.6l-0.7-0.6l-0.6-0.5l-1.2,0.7l-0.8,0.5l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.9,0.4l-0.9,0.4l-0.9,0.3l-0.9,0.3
                      l-0.9,0.3l-0.9,0.3l-0.9,0.3l-0.9,0.3l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.2l-0.9,0.1l-0.9,0.1l-0.9,0.1l-0.9,0.1
                      l-0.9,0.1l-0.9,0.1l-0.9,0.1l-0.9,0l-0.9,0h-57.5l59.7,16.4l0.4,0.1l0.4,0.1l0.4,0.1l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2
                      l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.1,0.3l0.1,0.3l0.1,0.4l0.1,0.4
                      l0.1,0.4l0.1,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.3l-0.1,0.4l-0.1,0.3l-0.2,0.3l-0.2,0.3
                      l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.3,0.3l-0.3,0.3l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2
                      l-0.3,0.1l-0.4,0.2l-0.4,0.1l-0.3,0.1l-0.4,0.1l-0.4,0.1l-0.4,0.1l-0.4,0l-0.4,0l-0.4,0H125V375h209.7l0.9,0l0.9,0l0.9,0l0.8-0.1
                      l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.8-0.1l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3
                      l0.8-0.4l0.8-0.4l0.8-0.4l0.8-0.4l0.8-0.4l0.7-0.4l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5
                      l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.4-0.7
                      l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8
                      l0.2-0.8l0.1-0.8l0.1-0.9l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.9l0.1-0.8l0-0.9l0-0.9l0-0.8L375,333z"
                            />
                            <path
                                class="st1"
                                d="M375,260.4l-0.1-0.9l-0.1-0.9l-0.1-0.8l-0.1-0.9l-0.1-0.8l-0.1-0.8l-0.1-0.8l-0.2-0.8l-0.2-0.8l-0.2-0.8
                      l-0.2-0.8l-0.2-0.8l-0.2-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.3-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.8l-0.4-0.7
                      l-0.4-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.5-0.7l-0.2-0.2h0h-89.8l59.7,16.4l0.4,0.1l0.4,0.1l0.4,0.1l0.3,0.2l0.3,0.2l0.3,0.2
                      l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.2l0.3,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.2,0.3l0.1,0.4l0.1,0.3
                      l0.1,0.4l0.1,0.4l0.1,0.4l0.1,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l0,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.4l-0.1,0.3l-0.1,0.4
                      l-0.2,0.4l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.2,0.3l-0.3,0.3l-0.3,0.3l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.3,0.2
                      l-0.3,0.2l-0.3,0.2l-0.3,0.2l-0.4,0.2l-0.4,0.1l-0.3,0.1l-0.4,0.1l-0.4,0.1l-0.4,0.1l-0.4,0l-0.4,0l-0.4,0h-82.5h-111H125v32.2
                      h122.8h86.9h0.9l0.9,0l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.9-0.1l0.8-0.1l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.2l0.8-0.3
                      l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.3l0.8-0.4l0.8-0.4l0.2-0.1l0.6-0.3l0.8-0.4l0.8-0.4l0.7-0.4l0.7-0.4l0.7-0.5l0.7-0.5l0.7-0.5
                      l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.5l0.7-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.6-0.6l0.5-0.7l0.5-0.7l0.5-0.7
                      l0.5-0.7l0.5-0.7l0.5-0.7l0.5-0.7l0.4-0.7l0.4-0.7l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.4-0.8l0.3-0.8l0.3-0.8l0.3-0.8l0.3-0.8
                      l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.2-0.8l0.1-0.8l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.8l0.1-0.9l0.1-0.9l0-0.8l0-0.9l0-0.9
                      L375,260.4z"
                            />
                            <path
                                class="st1"
                                d="M165.3,197.6l-0.9,0l-0.8,0l-0.9,0l-0.9,0.1l-0.8,0.1l-0.9,0.1l-0.8,0.1l-0.8,0.1l-0.8,0.2l-0.8,0.2l-0.8,0.2
                      l-0.8,0.2l-0.8,0.2l-0.8,0.2l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.4l-0.8,0.4l-0.2,0.1l-0.6,0.3l-0.8,0.4
                      l-0.8,0.4l-0.8,0.4l-0.7,0.4l-0.7,0.5l-0.7,0.5L142,205l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6
                      l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.5,0.6l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.4,0.7l-0.5,0.7l-0.4,0.7
                      l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.2,0.8l-0.2,0.8l-0.2,0.8
                      l-0.2,0.8l-0.2,0.8l-0.2,0.8l-0.1,0.9l-0.1,0.9l-0.1,0.8l-0.1,0.9l-0.1,0.9l0,0.9l0,0.9v0.9v0.9l0,0.8l0,0.9l0.1,0.8l0.1,0.8
                      l0.1,0.9l0.1,0.9l0.1,0.8l0.2,0.9l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8
                      l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.7l0.5,0.7l0.4,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.2,0.2h89.8l-59.7-16.4l-0.4-0.1l-0.3-0.1
                      l-0.4-0.1l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3
                      l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4
                      l0-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3
                      l0.3-0.3l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.4-0.2l0.3-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4,0l0.4,0
                      h0.4h82.5h111H375v-32.3H252.2H165.3z"
                            />
                            <path
                                class="st1"
                                d="M165.3,125l-0.9,0l-0.8,0l-0.9,0.1l-0.9,0.1l-0.8,0.1l-0.9,0.1l-0.8,0.1l-0.8,0.1l-0.8,0.2l-0.8,0.2l-0.8,0.2
                      l-0.8,0.2l-0.8,0.2l-0.8,0.2l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.3l-0.8,0.4l-0.8,0.4l-0.8,0.4l-0.8,0.4
                      l-0.8,0.4l-0.7,0.5l-0.7,0.4l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.5l-0.7,0.6l-0.7,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6
                      l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.6,0.6l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.5,0.7l-0.4,0.7l-0.5,0.7l-0.4,0.7
                      l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.4,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.3,0.8l-0.2,0.8l-0.2,0.8l-0.2,0.8
                      l-0.2,0.8l-0.2,0.8l-0.2,0.8l-0.1,0.9l-0.1,0.8l-0.1,0.9l-0.1,0.8l-0.1,0.9l0,0.9l0,0.9v0.9v0.9l0,0.9l0,0.8l0.1,0.9l0.1,0.9
                      l0.1,0.8l0.1,0.8l0.1,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.2,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8l0.3,0.8
                      l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.8l0.4,0.7l0.5,0.7l0.4,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.5,0.7l0.6,0.6l0.6,0.6
                      l0.6,0.6l0.6,0.6l0.6,0.6l0.6,0.6l0.6,0.6l0.7,0.6l0.6,0.5h0l1.1-0.7l0.8-0.5l0.8-0.5l0.8-0.4l0.8-0.4l0.9-0.4l0.9-0.4l0.9-0.4
                      l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.3l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.2l0.9-0.1l0.9-0.1l0.9-0.1l0.9-0.1
                      l0.9-0.1l0.9-0.1l0.9,0l0.9,0l0.9,0h57.5l-59.7-16.4l-0.4-0.1l-0.3-0.1l-0.4-0.1l-0.3-0.1l-0.3-0.2l-0.3-0.2l-0.3-0.2l-0.3-0.2
                      l-0.3-0.2l-0.3-0.2l-0.3-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.2-0.3l-0.1-0.3l-0.1-0.4
                      l-0.1-0.3l-0.1-0.4l-0.1-0.4l-0.1-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.4l0.1-0.3
                      l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.2-0.3l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2l0.3-0.2
                      l0.3-0.2l0.4-0.1l0.3-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4-0.1l0.4,0l0.4,0l0.4,0H375V125H165.3z"
                            />
                        </g>
                    </g>
                </svg>
                Seqera
            </a>
        </li>
        <li class="md-nav__item">
            <a
                href="https://github.com/nextflow-io/training"
                target="_blank"
                rel="noopener"
                class="md-nav__link"
            >
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path
                        d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"
                    ></path>
                </svg>
                Training on GitHub
            </a>
        </li>
    </ul>
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/nextflow-io/training/edit/master/docs/hello_nextflow/06_hello_config.md" title="Editar esta página" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="part-5-hello-config">Part 5: Hello Config<a class="headerlink" href="#part-5-hello-config" title="Permanent link">&para;</a></h1>
<p>This section will explore how to set up and manage the configuration of your Nextflow pipeline so that you'll be able to customize its behavior, adapt it to different environments, and optimize resource usage <em>without altering a single line of the workflow code itself</em>.</p>
<p>We're going to cover essential components of Nextflow configuration such as config files, profiles, process directives, executors, and parameter files.
By learning to utilize these configuration options effectively, you can enhance the flexibility, scalability, and performance of your pipelines.</p>
<hr />
<h2 id="0-warmup-moving-to-a-formal-project-structure">0. Warmup: Moving to a formal project structure<a class="headerlink" href="#0-warmup-moving-to-a-formal-project-structure" title="Permanent link">&para;</a></h2>
<p>So far we've been working with a very loose structure, with just one workflow code file and a tiny configuration file that we've mostly ignored, because we were very focused on learning how to implement the workflow itself.
However, we're now moving into the phase of this training series that is more focused on code development and maintenance practices.</p>
<p>As part of that, we're going to adopt a formal project structure.
We're going to work inside a dedicated project directory called <code>hello-config</code>, and we've renamed the workflow file <code>main.nf</code> to match the recommended Nextflow convention.</p>
<h3 id="01-explore-the-hello-config-directory">0.1. Explore the <code>hello-config</code> directory<a class="headerlink" href="#01-explore-the-hello-config-directory" title="Permanent link">&para;</a></h3>
<p>We want to launch the workflow from inside the <code>hello-config</code> directory, so let's move into it now.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>hello-config
</code></pre></div>
<p>Let's take a look at the contents.
You can use the file explorer or the terminal; here we're using the output of <code>tree</code> to display the top-level directory contents.</p>
<div class="highlight"><span class="filename">Directory contents</span><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="go">hello-config</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="go">├── demo-params.json</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="go">├── main.nf</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="go">└── nextflow.config</span>
</code></pre></div>
<ul>
<li>
<p><strong><code>main.nf</code></strong> is a workflow based on <code>hello-operators.nf</code>, the workflow produced by completing Part 4 of this training course;</p>
</li>
<li>
<p><strong><code>nextflow.config</code></strong> is a copy of the original <code>nextflow.config</code> file from the <code>hello-nextflow</code> directory, one level up (where we've been working so far).
  Whenever there is a file named <code>nextflow.config</code> in the current directory, Nextflow will automatically load configuration from it. The one we have been using contains the following lines:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="go">docker.fixOwnership = true</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="go">docker.enabled = true</span>
</code></pre></div></td></tr></table></div>
<p>The <code>docker.fixOwnership = true</code> line is not really interesting.
It's a workaround for an issue that sometimes occur with containerized tools that set the wrong permissions on the files they write (which is the case with GenomicsDBImport in the GATK container image in our workflow).</p>
<p>The <code>docker.enabled = true</code> line is what we care about here.
It specifies that Nextflow should use Docker to run process calls that specify a container image.
We're going to be playing with that shortly.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Anything you put into the <code>nextflow.config</code> can be overridden at runtime by providing the relevant process directives or parameters and values on the command line, or by importing another configuration file, according to the order of precedence described <a href="https://www.nextflow.io/docs/latest/config.html">here</a>.</p>
</div>
<ul>
<li><strong><code>demo-params.json</code></strong> is a parameter file intended for supplying parameter values to a workflow.
  We will use it in section 5 of this tutorial.</li>
</ul>
<p>The one thing that's missing is a way to point to the original data without making a copy of it or updating the file paths wherever they're specified.
The simplest solution is to link to the data location.</p>
<h3 id="02-create-a-symbolic-link-to-the-data">0.2. Create a symbolic link to the data<a class="headerlink" href="#02-create-a-symbolic-link-to-the-data" title="Permanent link">&para;</a></h3>
<p>Run this command from inside the <code>hello-config</code> directory:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>ln<span class="w"> </span>-s<span class="w"> </span>../data<span class="w"> </span>data
</code></pre></div>
<p>This creates a symbolic link called <code>data</code> pointing to the data directory, which allows us to avoid having to change anything to how the file paths are set up.</p>
<div class="highlight"><span class="filename">Directory contents</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="go">hello-config</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="go">├── data -&gt; ../data</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="go">├── demo-params.json</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="go">├── main.nf</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="go">└── nextflow.config</span>
</code></pre></div>
<p>Later we'll cover a better way of handling this, but this will do for now.</p>
<h3 id="03-verify-that-the-initial-workflow-runs-properly">0.3. Verify that the initial workflow runs properly<a class="headerlink" href="#03-verify-that-the-initial-workflow-runs-properly" title="Permanent link">&para;</a></h3>
<p>Now that everything is in place, we should be able to run the workflow successfully.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf
</code></pre></div>
<p>This should run successfully:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="go">Nextflow 24.09.2-edge is available - Please consider updating your version to it</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="go"> N E X T F L O W   ~  version 24.10.0</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="go"> ┃ Launching `main.nf` [tender_brahmagupta] DSL2 - revision: 848ff2f9b5</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="go">executor &gt;  local (7)</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="go">[fb/f755b1] SAMTOOLS_INDEX (1)       [100%] 3 of 3 ✔</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="go">[d8/467767] GATK_HAPLOTYPECALLER (1) [100%] 3 of 3 ✔</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="go">[ee/2c7855] GATK_JOINTGENOTYPING     [100%] 1 of 1 ✔</span>
</code></pre></div>
<p>There will now be a <code>work</code> directory and a <code>results_genomics</code> directory inside your <code>hello-config</code> directory.</p>
<h3 id="takeaway">Takeaway<a class="headerlink" href="#takeaway" title="Permanent link">&para;</a></h3>
<p>You know what are the two most important files in a Nextflow project: <code>main.nf</code> and its <code>nextflow.config</code>.</p>
<h3 id="whats-next">What's next?<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h3>
<p>Learn how to modify basic configuration properties to adapt to your compute environment's requirements.</p>
<hr />
<h2 id="1-determine-what-software-packaging-technology-to-use">1. Determine what software packaging technology to use<a class="headerlink" href="#1-determine-what-software-packaging-technology-to-use" title="Permanent link">&para;</a></h2>
<p>In the very first part of this training course (Part 1: Hello World) we just used locally installed software in our workflow. Then from Part 2 onward, we've been using Docker containers.</p>
<p>Now, let's pretend we're working on an HPC cluster and the admin doesn't allow the use of Docker for security reasons.</p>
<h3 id="11-disable-docker-in-the-config-file">1.1. Disable Docker in the config file<a class="headerlink" href="#11-disable-docker-in-the-config-file" title="Permanent link">&para;</a></h3>
<p>First, we have to switch the value of <code>docker.enabled</code> to false.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="go">docker.fixOwnership = true</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="go">docker.enabled = true</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="go">docker.fixOwnership = true</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="go">docker.enabled = false</span>
</code></pre></div></td></tr></table></div>
<p>Let's see what happens if we run that.</p>
<h3 id="12-run-the-workflow-without-docker">1.2. Run the workflow without Docker<a class="headerlink" href="#12-run-the-workflow-without-docker" title="Permanent link">&para;</a></h3>
<p>We are now launching the <code>main.nf</code> workflow from inside the <code>hello-config</code> directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf
</code></pre></div>
<p>As expected, the run fails with an error message that looks like this:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="go"> N E X T F L O W   ~  version 24.10.0</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="go"> ┃ Launching `hello-config/main.nf` [silly_ramanujan] DSL2 - revision: 9129bc4618</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="go">executor &gt;  local (3)</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="go">[93/4417d0] SAMTOOLS_INDEX (1)   [  0%] 0 of 3</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="go">[-        ] GATK_HAPLOTYPECALLER -</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="go">[-        ] GATK_JOINTGENOTYPING -</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="go">ERROR ~ Error executing process &gt; &#39;SAMTOOLS_INDEX (2)&#39;</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="go">Caused by:</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="go">  Process `SAMTOOLS_INDEX (2)` terminated with an error exit status (127)</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="go">Command executed:</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="go">  samtools index &#39;reads_father.bam&#39;</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="go">Command exit status:</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="go">  127</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="go">Command output:</span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="go">  (empty)</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="go">Command error:</span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="go">  .command.sh: line 2: samtools: command not found</span>
</code></pre></div>
<p>Command not found? Of course, we don't have Samtools installed in our environment, and we can no longer use the Docker container. What to do?</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Nextflow supports multiple other container technologies such as including Singularity (which is more widely used on HPC), and software package managers such as Conda.</p>
</div>
<p>Let's try using Conda environments for our workflow.</p>
<h3 id="13-enable-conda-in-the-configuration-file">1.3. Enable Conda in the configuration file<a class="headerlink" href="#13-enable-conda-in-the-configuration-file" title="Permanent link">&para;</a></h3>
<p>First, we need to add a directive enabling the use of Conda, right after the line that controls the use of Docker.
And while we're at it, let's put a blank line before those two to emphasize the logical grouping.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">docker</span><span class="o">.</span><span class="na">fixOwnership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">docker</span><span class="o">.</span><span class="na">fixOwnership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</code></pre></div></td></tr></table></div>
<p>This should allow Nextflow to create and utilize Conda environments for processes that have Conda packages specified. Which means we now need to add those to our processes!</p>
<h3 id="14-specify-conda-packages-in-the-process-definitions">1.4. Specify Conda packages in the process definitions<a class="headerlink" href="#14-specify-conda-packages-in-the-process-definitions" title="Permanent link">&para;</a></h3>
<p>We know that the Bioconda project provides Conda packages for Samtools and GATK, so we just need to retrieve their URIs and add them to the corresponding process definitions using the <code>conda</code> directive.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are a few different ways to get the URI for a given conda package.
We recommend using the <a href="https://seqera.io/containers/">Seqera Containers</a> search query, which will give you a URI that you can copy paste, even if you're not creating a container.</p>
</div>
<p>For your convenience, we are providing the URIs below. Just make sure to <em>add</em> the <code>conda</code> directive.
To be clear, we're not <em>replacing</em> the <code>docker</code> directive, just adding an alternative option.</p>
<h4 id="141-update-samtools_index">1.4.1. Update SAMTOOLS_INDEX<a class="headerlink" href="#141-update-samtools_index" title="Permanent link">&para;</a></h4>
<p>The URI is <code>"bioconda::samtools=1.20"</code>.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">main.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-22">22</a></span>
<span class="normal"><a href="#__codelineno-13-23">23</a></span>
<span class="normal"><a href="#__codelineno-13-24">24</a></span>
<span class="normal"><a href="#__codelineno-13-25">25</a></span>
<span class="normal"><a href="#__codelineno-13-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-22" name="__codelineno-13-22"></a><span class="go">process SAMTOOLS_INDEX {</span>
<a id="__codelineno-13-23" name="__codelineno-13-23"></a>
<a id="__codelineno-13-24" name="__codelineno-13-24"></a><span class="go">    container &#39;community.wave.seqera.io/library/samtools:1.20--b5dfbd93de237464&#39;</span>
<a id="__codelineno-13-25" name="__codelineno-13-25"></a>
<a id="__codelineno-13-26" name="__codelineno-13-26"></a><span class="go">    publishDir params.outdir, mode: &#39;symlink&#39;</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">main.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span>
<span class="normal"><a href="#__codelineno-14-25">25</a></span>
<span class="normal"><a href="#__codelineno-14-26">26</a></span>
<span class="normal"><a href="#__codelineno-14-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-22" name="__codelineno-14-22"></a><span class="go">process SAMTOOLS_INDEX {</span>
<a id="__codelineno-14-23" name="__codelineno-14-23"></a>
<a id="__codelineno-14-24" name="__codelineno-14-24"></a><span class="go">    container &quot;community.wave.seqera.io/library/samtools:1.20--b5dfbd93de237464&quot;</span>
<a id="__codelineno-14-25" name="__codelineno-14-25"></a><span class="go">    conda &quot;bioconda::samtools=1.20&quot;</span>
<a id="__codelineno-14-26" name="__codelineno-14-26"></a>
<a id="__codelineno-14-27" name="__codelineno-14-27"></a><span class="go">    publishDir params.outdir, mode: &#39;symlink&#39;</span>
</code></pre></div></td></tr></table></div>
<h4 id="142-update-gatk_haplotypecaller">1.4.2. Update GATK_HAPLOTYPECALLER<a class="headerlink" href="#142-update-gatk_haplotypecaller" title="Permanent link">&para;</a></h4>
<p>The URI is <code>"bioconda::gatk4=4.5.0.0"</code>.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">main.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-43">43</a></span>
<span class="normal"><a href="#__codelineno-15-44">44</a></span>
<span class="normal"><a href="#__codelineno-15-45">45</a></span>
<span class="normal"><a href="#__codelineno-15-46">46</a></span>
<span class="normal"><a href="#__codelineno-15-47">47</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-43" name="__codelineno-15-43"></a><span class="go">process GATK_HAPLOTYPECALLER {</span>
<a id="__codelineno-15-44" name="__codelineno-15-44"></a>
<a id="__codelineno-15-45" name="__codelineno-15-45"></a><span class="go">    container &quot;community.wave.seqera.io/library/gatk4:4.5.0.0--730ee8817e436867&quot;</span>
<a id="__codelineno-15-46" name="__codelineno-15-46"></a>
<a id="__codelineno-15-47" name="__codelineno-15-47"></a><span class="go">    publishDir params.outdir, mode: &#39;symlink&#39;</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">main.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-43">43</a></span>
<span class="normal"><a href="#__codelineno-16-44">44</a></span>
<span class="normal"><a href="#__codelineno-16-45">45</a></span>
<span class="normal"><a href="#__codelineno-16-46">46</a></span>
<span class="normal"><a href="#__codelineno-16-47">47</a></span>
<span class="normal"><a href="#__codelineno-16-48">48</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-43" name="__codelineno-16-43"></a><span class="go">process GATK_HAPLOTYPECALLER {</span>
<a id="__codelineno-16-44" name="__codelineno-16-44"></a>
<a id="__codelineno-16-45" name="__codelineno-16-45"></a><span class="go">    container &quot;community.wave.seqera.io/library/gatk4:4.5.0.0--730ee8817e436867&quot;</span>
<a id="__codelineno-16-46" name="__codelineno-16-46"></a><span class="go">    conda &quot;bioconda::gatk4=4.5.0.0&quot;</span>
<a id="__codelineno-16-47" name="__codelineno-16-47"></a>
<a id="__codelineno-16-48" name="__codelineno-16-48"></a><span class="go">    publishDir params.outdir, mode: &#39;symlink&#39;</span>
</code></pre></div></td></tr></table></div>
<h4 id="143-update-gatk_jointgenotyping">1.4.3. Update GATK_JOINTGENOTYPING<a class="headerlink" href="#143-update-gatk_jointgenotyping" title="Permanent link">&para;</a></h4>
<p>The URI is <code>"bioconda::gatk4=4.5.0.0"</code>.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">main.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-74">74</a></span>
<span class="normal"><a href="#__codelineno-17-75">75</a></span>
<span class="normal"><a href="#__codelineno-17-76">76</a></span>
<span class="normal"><a href="#__codelineno-17-77">77</a></span>
<span class="normal"><a href="#__codelineno-17-78">78</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-74" name="__codelineno-17-74"></a><span class="go">process GATK_JOINTGENOTYPING {</span>
<a id="__codelineno-17-75" name="__codelineno-17-75"></a>
<a id="__codelineno-17-76" name="__codelineno-17-76"></a><span class="go">    container &quot;community.wave.seqera.io/library/gatk4:4.5.0.0--730ee8817e436867&quot;</span>
<a id="__codelineno-17-77" name="__codelineno-17-77"></a>
<a id="__codelineno-17-78" name="__codelineno-17-78"></a><span class="go">    publishDir params.outdir, mode: &#39;symlink&#39;</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">main.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-74">74</a></span>
<span class="normal"><a href="#__codelineno-18-75">75</a></span>
<span class="normal"><a href="#__codelineno-18-76">76</a></span>
<span class="normal"><a href="#__codelineno-18-77">77</a></span>
<span class="normal"><a href="#__codelineno-18-78">78</a></span>
<span class="normal"><a href="#__codelineno-18-79">79</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-74" name="__codelineno-18-74"></a><span class="go">process GATK_JOINTGENOTYPING {</span>
<a id="__codelineno-18-75" name="__codelineno-18-75"></a>
<a id="__codelineno-18-76" name="__codelineno-18-76"></a><span class="go">    container &quot;community.wave.seqera.io/library/gatk4:4.5.0.0--730ee8817e436867&quot;</span>
<a id="__codelineno-18-77" name="__codelineno-18-77"></a><span class="go">    conda &quot;bioconda::gatk4=4.5.0.0&quot;</span>
<a id="__codelineno-18-78" name="__codelineno-18-78"></a>
<a id="__codelineno-18-79" name="__codelineno-18-79"></a><span class="go">    publishDir params.outdir, mode: &#39;symlink&#39;</span>
</code></pre></div></td></tr></table></div>
<p>Once all three processes are updated, we can try running the workflow again.</p>
<h3 id="15-run-the-workflow-to-verify-that-it-can-use-conda">1.5. Run the workflow to verify that it can use Conda<a class="headerlink" href="#15-run-the-workflow-to-verify-that-it-can-use-conda" title="Permanent link">&para;</a></h3>
<p>Let's try it out.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf
</code></pre></div>
<p>This will take a bit longer than usual the first time, and you might see the console output stay 'stuck' at this stage for a minute or so:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="go"> N E X T F L O W   ~  version 24.10.0</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="go"> ┃ Launching `main.nf` [extravagant_thompson] DSL2 - revision: 848ff2f9b5</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="go">[-        ] SAMTOOLS_INDEX       -</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="go">[-        ] GATK_HAPLOTYPECALLER -</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="go">[-        ] GATK_JOINTGENOTYPING -</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="go">Creating env using conda: bioconda::samtools=1.20 [cache /workspace/gitpod/hello-nextflow/hello-config/work/conda/env-6684ea23d69ceb1742019ff36904f612]</span>
</code></pre></div>
<p>That's because Nextflow has to retrieve the Conda packages and create the environment, which takes a bit of work behind the scenes. The good news is that you don't need to deal with any of it yourself!</p>
<p>After a few moments, it should spit out some more output, and eventually complete without error.</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="go"> N E X T F L O W   ~  version 24.10.0</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="go"> ┃ Launching `main.nf` [silly_goldstine] DSL2 - revision: a60f9fd6af</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="go">executor &gt;  local (7)</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="go">[23/b59106] SAMTOOLS_INDEX (1)       [100%] 3 of 3 ✔</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="go">[da/e1bf1d] GATK_HAPLOTYPECALLER (1) [100%] 3 of 3 ✔</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="go">[2e/e6ffca] GATK_JOINTGENOTYPING     [100%] 1 of 1 ✔</span>
</code></pre></div>
<p>And from our standpoint, it looks like it works exactly the same as running with Docker, even though on the backend the mechanics are a bit different.</p>
<p>This means we're all set to run with Conda environments if needed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since these directives are assigned per process, it is possible 'mix and match', <em>i.e.</em> configure some of the processes in your workflow to run with Docker and others with Conda, for example, if the compute infrastructure you are using supports both.
In that case, you would enable both Docker and Conda in your configuration file.
If both are available for a given process, Nextflow will prioritize containers.</p>
<p>And as noted earlier, Nextflow supports multiple other software packaging and container technologies, so you are not limited to just those two.</p>
</div>
<h3 id="takeaway_1">Takeaway<a class="headerlink" href="#takeaway_1" title="Permanent link">&para;</a></h3>
<p>You know how to configure which software package each process should use, and how to switch between technologies.</p>
<h3 id="whats-next_1">What's next?<a class="headerlink" href="#whats-next_1" title="Permanent link">&para;</a></h3>
<p>Learn how to use profiles to make selecting an option easier.</p>
<hr />
<h2 id="2-use-profiles-to-select-preset-configurations">2. Use profiles to select preset configurations<a class="headerlink" href="#2-use-profiles-to-select-preset-configurations" title="Permanent link">&para;</a></h2>
<p>Profiles are a great way to adapt your workflow configuration by selecting preset options at runtime, to avoid having to edit a file every time you want to run something differently.</p>
<h3 id="21-create-profiles-for-switching-between-docker-and-conda">2.1. Create profiles for switching between Docker and Conda<a class="headerlink" href="#21-create-profiles-for-switching-between-docker-and-conda" title="Permanent link">&para;</a></h3>
<p>Setting up these profiles mainly involves restructuring how we specify the <code>docker</code> and <code>conda</code> directives.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span>
<span class="normal"><a href="#__codelineno-22-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="n">docker</span><span class="o">.</span><span class="na">fixOwnership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="n">docker</span><span class="o">.</span><span class="na">fixOwnership</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="n">profiles</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">    </span><span class="n">docker_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">    </span><span class="n">conda_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>This makes it possible to activate one or the other by specifying a profile in our Nextflow run command line.</p>
<h3 id="22-run-the-workflow-with-a-profile">2.2. Run the workflow with a profile<a class="headerlink" href="#22-run-the-workflow-with-a-profile" title="Permanent link">&para;</a></h3>
<p>Let's try running the workflow with Conda.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf<span class="w"> </span>-profile<span class="w"> </span>conda_on
</code></pre></div>
<p>It works! Convenient, isn't it?</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a> N E X T F L O W   ~  version 24.10.0
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a> ┃ Launching `main.nf` [sharp_gauss] DSL2 - revision: 66cd7c255a
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>executor &gt;  local (7)
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>[f4/ef2cb6] SAMTOOLS_INDEX (1)       [100%] 3 of 3 ✔
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>[70/77152c] GATK_HAPLOTYPECALLER (1) [100%] 3 of 3 ✔
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>[a6/0f72fd] GATK_JOINTGENOTYPING     [100%] 1 of 1 ✔
</code></pre></div>
<p>Feel free to try it out with the Docker profile too. You just have to switch <code>-profile conda_on</code> to <code>-profile docker_on</code> in the command.</p>
<h3 id="takeaway_2">Takeaway<a class="headerlink" href="#takeaway_2" title="Permanent link">&para;</a></h3>
<p>You know how to use profiles to select a preset configuration at runtime with minimal hassle.</p>
<h3 id="whats-next_2">What's next?<a class="headerlink" href="#whats-next_2" title="Permanent link">&para;</a></h3>
<p>Learn how to change the executor used by Nextflow to actually do the work.</p>
<hr />
<h2 id="3-determine-what-executors-should-be-used-to-do-the-work">3. Determine what executor(s) should be used to do the work<a class="headerlink" href="#3-determine-what-executors-should-be-used-to-do-the-work" title="Permanent link">&para;</a></h2>
<p>Until now, we have been running our pipeline with the local executor.
This runs each step on the same machine that Nextflow is running on.
However, for large workloads, you will typically want to use a distributed executor such as an HPC or cloud.
Nextflow supports several different distributed executors, including:</p>
<ul>
<li>HPC (SLURM, PBS, SGE)</li>
<li>AWS Batch</li>
<li>Google Batch</li>
<li>Azure Batch</li>
<li>Kubernetes</li>
<li>GA4GH TES</li>
</ul>
<p>The executor is subject to a process directive called <code>executor</code>. By default it is set to <code>local</code>, so the following configuration is implied:</p>
<div class="highlight"><span class="filename">Built-in configuration</span><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;local&#39;</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="o">}</span>
</code></pre></div>
<p>Let's look at what it would take to using a Slurm scheduler, assuming we had a connection to a cluster and Slurm was installed appropriately.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>What follows is for demonstration purposes but <strong>will not execute the work</strong> since we don't have access to an external executor.</p>
</div>
<h3 id="31-set-up-a-slurm-executor">3.1. Set up a Slurm executor<a class="headerlink" href="#31-set-up-a-slurm-executor" title="Permanent link">&para;</a></h3>
<p>Add the following lines to the <code>nextflow.config</code> file:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-12">12</a></span>
<span class="normal"><a href="#__codelineno-27-13">13</a></span>
<span class="normal"><a href="#__codelineno-27-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-12" name="__codelineno-27-12"></a><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-27-13" name="__codelineno-27-13"></a><span class="w">    </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;slurm&#39;</span>
<a id="__codelineno-27-14" name="__codelineno-27-14"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>And... that's it! As noted before, this does assume that Slurm itself is already set up for you, but this is really all Nextflow itself needs to know.</p>
<p>Basically we are telling Nextflow to generate a Slurm submission script and submit it using an <code>sbatch</code> command.</p>
<h3 id="32-launch-the-workflow-to-generate-the-job-submission-script">3.2. Launch the workflow to generate the job submission script<a class="headerlink" href="#32-launch-the-workflow-to-generate-the-job-submission-script" title="Permanent link">&para;</a></h3>
<p>Let's try running this; even though we know it won't execute (since we don't have Slurm set up in this Gitpod environment) we'll be able to see what the submission script looks like.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf<span class="w"> </span>-profile<span class="w"> </span>conda_on
</code></pre></div>
<p>As expected, this fails with a fairly unambiguous error:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="go">nextflow</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="go"> N E X T F L O W   ~  version 24.10.0</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="go"> ┃ Launching `main.nf` [grave_gauss] DSL2 - revision: 66cd7c255a</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="go">[-        ] SAMTOOLS_INDEX       [  0%] 0 of 3</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="go">[eb/2962ce] SAMTOOLS_INDEX (3)   [ 33%] 1 of 3, failed: 1</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="go">[-        ] GATK_HAPLOTYPECALLER -</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="go">[-        ] GATK_JOINTGENOTYPING -</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="go">ERROR ~ Error executing process &gt; &#39;SAMTOOLS_INDEX (3)&#39;</span>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="go">Caused by:</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="go">  java.io.IOException: Cannot run program &quot;sbatch&quot; (in directory &quot;/workspace/gitpod/hello-nextflow/hello-config/work/eb/2962ce167b3025a41ece6ce6d7efc2&quot;): error=2, No such file or directory</span>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="go">Command executed:</span>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="go">  sbatch .command.run</span>
</code></pre></div>
<p>However, it did produce what we are looking for: the <code>.command.run</code> file that Nextflow tried to submit to Slurm via the <code>sbatch</code> command.</p>
<p>Let's take a look inside. <!-- **TODO: UPDATE NEXTFLOW VERSION SO WE CAN HAVE THIS SWEET OUTPUT** --></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">.command.run</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="c1">#SBATCH -J nf-SAMTOOLS_INDEX_(1)</span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="c1">#SBATCH -o /home/gitpod/work/34/850fe31af0eb62a0eb1643ed77b84f/.command.log</span>
<a id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="c1">#SBATCH --no-requeue</span>
<a id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="c1">#SBATCH --signal B:USR2@30</span>
<a id="__codelineno-30-6" name="__codelineno-30-6"></a><span class="nv">NXF_CHDIR</span><span class="o">=</span>/home/gitpod/work/34/850fe31af0eb62a0eb1643ed77b84f
<a id="__codelineno-30-7" name="__codelineno-30-7"></a><span class="c1">### ---</span>
<a id="__codelineno-30-8" name="__codelineno-30-8"></a><span class="c1">### name: &#39;SAMTOOLS_INDEX (1)&#39;</span>
<a id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="c1">### container: &#39;community.wave.seqera.io/library/samtools:1.20--b5dfbd93de237464&#39;</span>
<a id="__codelineno-30-10" name="__codelineno-30-10"></a><span class="c1">### outputs:</span>
<a id="__codelineno-30-11" name="__codelineno-30-11"></a><span class="c1">### - &#39;reads_father.bam&#39;</span>
<a id="__codelineno-30-12" name="__codelineno-30-12"></a><span class="c1">### - &#39;reads_father.bam.bai&#39;</span>
<a id="__codelineno-30-13" name="__codelineno-30-13"></a><span class="c1">### ...</span>
</code></pre></div></td></tr></table></div>
<p>This shows the job submission details that Nextflow is trying to hand over to Slurm.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There other options that we could additionally set using other process directives to control resource allocations, which we'll get to in a little bit.
These would also be included in the <code>.command.run</code> file and directly passed to the Slurm execution.</p>
</div>
<p>You can try using any of the other supported executors in the same way. Nextflow will translate the values submitted to the executor into the appropriate equivalent instructions.</p>
<p>Conveniently, you can also set up profiles to select which executor you want to use at runtime, just like we did for the Docker vs. Conda environments selection earlier.</p>
<h3 id="33-set-up-profiles-for-executors-too">3.3. Set up profiles for executors too<a class="headerlink" href="#33-set-up-profiles-for-executors-too" title="Permanent link">&para;</a></h3>
<p>Let's replace the process block we had added with the executor selection profiles.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-31-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-31-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-31-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-31-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-31-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-31-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-31-10">10</a></span>
<span class="normal"><a href="#__codelineno-31-11">11</a></span>
<span class="normal"><a href="#__codelineno-31-12">12</a></span>
<span class="normal"><a href="#__codelineno-31-13">13</a></span>
<span class="normal"><a href="#__codelineno-31-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="n">profiles</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="w">    </span><span class="n">docker_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-31-6" name="__codelineno-31-6"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="w">    </span><span class="n">conda_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-31-9" name="__codelineno-31-9"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-31-10" name="__codelineno-31-10"></a><span class="o">}</span>
<a id="__codelineno-31-11" name="__codelineno-31-11"></a>
<a id="__codelineno-31-12" name="__codelineno-31-12"></a><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-31-13" name="__codelineno-31-13"></a><span class="w">    </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;slurm&#39;</span>
<a id="__codelineno-31-14" name="__codelineno-31-14"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-32-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-32-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-32-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-32-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-32-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-32-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-32-10">10</a></span>
<span class="normal"><a href="#__codelineno-32-11">11</a></span>
<span class="normal"><a href="#__codelineno-32-12">12</a></span>
<span class="normal"><a href="#__codelineno-32-13">13</a></span>
<span class="normal"><a href="#__codelineno-32-14">14</a></span>
<span class="normal"><a href="#__codelineno-32-15">15</a></span>
<span class="normal"><a href="#__codelineno-32-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="n">profiles</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">    </span><span class="n">docker_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-32-6" name="__codelineno-32-6"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-32-7" name="__codelineno-32-7"></a><span class="w">    </span><span class="n">conda_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-32-8" name="__codelineno-32-8"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-32-9" name="__codelineno-32-9"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-32-10" name="__codelineno-32-10"></a><span class="w">    </span><span class="n">local_exec</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-32-11" name="__codelineno-32-11"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;local&#39;</span>
<a id="__codelineno-32-12" name="__codelineno-32-12"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-32-13" name="__codelineno-32-13"></a><span class="w">    </span><span class="n">slurm_exec</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-32-14" name="__codelineno-32-14"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;slurm&#39;</span>
<a id="__codelineno-32-15" name="__codelineno-32-15"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-32-16" name="__codelineno-32-16"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Although it may look like these are going to be mutually exclusive, you can actually combine multiple profiles.
Let's try that now.</p>
<h3 id="34-run-with-a-combination-of-profiles">3.4. Run with a combination of profiles<a class="headerlink" href="#34-run-with-a-combination-of-profiles" title="Permanent link">&para;</a></h3>
<p>To use two profiles at the same time, simply give both to the <code>-profile</code> parameter, separated by a comma.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf<span class="w"> </span>-profile<span class="w"> </span>docker_on,local_exec
</code></pre></div>
<p>With that, we've returned to the original configuration of using Docker containers with local execution, not that you can tell from the console output:</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="go"> N E X T F L O W   ~  version 24.10.0</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="go"> ┃ Launching `main.nf` [irreverent_bassi] DSL2 - revision: 66cd7c255a</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="go">executor &gt;  local (7)</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="go">[17/82bbc4] SAMTOOLS_INDEX (2)       [100%] 3 of 3 ✔</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="go">[8e/93609c] GATK_HAPLOTYPECALLER (2) [100%] 3 of 3 ✔</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="go">[e6/df6740] GATK_JOINTGENOTYPING     [100%] 1 of 1 ✔</span>
</code></pre></div>
<p>The point is, we can now use profiles to switch to a different software packaging system (Conda) or a different executor (such as Slurm) with a single command-line option.
For example, if we were back on our hypothetical HPC from earlier, we would switch to using <code>-profile conda_on,slurm_exec</code> in our Nextflow command line.</p>
<p>Feel free to test that on your own to satisfy yourself that it works as expected.</p>
<p>Moving on, we're going to take this logic a step further, and set up dedicated profiles for groups of configuration elements that we usually want to activate together.</p>
<h3 id="35-create-profiles-that-combine-several-configuration-elements">3.5. Create profiles that combine several configuration elements<a class="headerlink" href="#35-create-profiles-that-combine-several-configuration-elements" title="Permanent link">&para;</a></h3>
<p>Let's set up some dedicated profiles for the two case figures we've been envisioning: running locally with Docker, which we'll call <code>my_laptop</code>, and running on the HPC cluster with Conda, which we'll call <code>univ_hpc</code>.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span>
<span class="normal"><a href="#__codelineno-35-11">11</a></span>
<span class="normal"><a href="#__codelineno-35-12">12</a></span>
<span class="normal"><a href="#__codelineno-35-13">13</a></span>
<span class="normal"><a href="#__codelineno-35-14">14</a></span>
<span class="normal"><a href="#__codelineno-35-15">15</a></span>
<span class="normal"><a href="#__codelineno-35-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="n">profiles</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="w">    </span><span class="n">docker_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="w">    </span><span class="n">conda_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-35-8" name="__codelineno-35-8"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-35-9" name="__codelineno-35-9"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="w">    </span><span class="n">local_exec</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-35-11" name="__codelineno-35-11"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;local&#39;</span>
<a id="__codelineno-35-12" name="__codelineno-35-12"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-35-13" name="__codelineno-35-13"></a><span class="w">    </span><span class="n">slurm_exec</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-35-14" name="__codelineno-35-14"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;slurm&#39;</span>
<a id="__codelineno-35-15" name="__codelineno-35-15"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-35-16" name="__codelineno-35-16"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-36-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-36-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-36-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-36-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-36-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-36-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-36-10">10</a></span>
<span class="normal"><a href="#__codelineno-36-11">11</a></span>
<span class="normal"><a href="#__codelineno-36-12">12</a></span>
<span class="normal"><a href="#__codelineno-36-13">13</a></span>
<span class="normal"><a href="#__codelineno-36-14">14</a></span>
<span class="normal"><a href="#__codelineno-36-15">15</a></span>
<span class="normal"><a href="#__codelineno-36-16">16</a></span>
<span class="normal"><a href="#__codelineno-36-17">17</a></span>
<span class="normal"><a href="#__codelineno-36-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="n">profiles</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="w">    </span><span class="n">docker_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-36-5" name="__codelineno-36-5"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-36-6" name="__codelineno-36-6"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-36-7" name="__codelineno-36-7"></a><span class="w">    </span><span class="n">conda_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-36-8" name="__codelineno-36-8"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-36-9" name="__codelineno-36-9"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-36-10" name="__codelineno-36-10"></a><span class="w">    </span><span class="n">my_laptop</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-36-11" name="__codelineno-36-11"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;local&#39;</span>
<a id="__codelineno-36-12" name="__codelineno-36-12"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-36-13" name="__codelineno-36-13"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-36-14" name="__codelineno-36-14"></a><span class="w">    </span><span class="n">univ_hpc</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-36-15" name="__codelineno-36-15"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;slurm&#39;</span>
<a id="__codelineno-36-16" name="__codelineno-36-16"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-36-17" name="__codelineno-36-17"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-36-18" name="__codelineno-36-18"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Now we have profiles for the two main case figures we've been considering.
If in the future we find other elements of configuration that are always co-occurring with these, we can simply add them to the corresponding profile(s).</p>
<p>Feel free to test these new profiles on your own using either <code>-profile my_laptop</code> or <code>-profile univ_hpc</code>.
Just remember that the <code>univ_hpc</code> one won't work unless you run it in an environment that is set up appropriately to use Slurm.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You'll notice we've removed the two profiles that <em>only</em> specified the executor, because in those cases we're always going to want to specify the software packaging technology too.</p>
<p>We're leaving in the Docker and Conda profiles because those ones come in handy by themselves, although there are also some dedicated command line flags for those, and it's a nice illustration of the fact that you can have the same directives set in multiple profiles.
Just keep in mind that if you combine profiles with conflicting settings for the same directives, you might be surprised by the results.</p>
</div>
<h3 id="takeaway_3">Takeaway<a class="headerlink" href="#takeaway_3" title="Permanent link">&para;</a></h3>
<p>You now know how to change the executor and combine that with other environment settings using profiles.</p>
<h3 id="whats-next_3">What's next?<a class="headerlink" href="#whats-next_3" title="Permanent link">&para;</a></h3>
<p>Learn how to control the resources allocated for executing processes.</p>
<hr />
<h2 id="4-allocate-compute-resources-with-process-directives">4. Allocate compute resources with process directives<a class="headerlink" href="#4-allocate-compute-resources-with-process-directives" title="Permanent link">&para;</a></h2>
<p>We've covered how to control what compute environment Nextflow is going to use to run the workflow, so now the next logical question is, how do we control the resources (CPU, memory etc) that will be allocated?</p>
<p>The answer may not surprise you; it's process directives again.</p>
<h3 id="41-increase-default-process-resource-allocations">4.1. Increase default process resource allocations<a class="headerlink" href="#41-increase-default-process-resource-allocations" title="Permanent link">&para;</a></h3>
<p>By default, Nextflow will use a single CPU and 2GB of memory for each process.
Let's say we decide to double that.</p>
<p>We can modify this behavior by setting the <code>cpu</code> and <code>memory</code> directives in the <code>process</code> block. Add the following to the end of your <code>nextflow.config</code> file:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-20">20</a></span>
<span class="normal"><a href="#__codelineno-37-21">21</a></span>
<span class="normal"><a href="#__codelineno-37-22">22</a></span>
<span class="normal"><a href="#__codelineno-37-23">23</a></span>
<span class="normal"><a href="#__codelineno-37-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-20" name="__codelineno-37-20"></a><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-37-21" name="__codelineno-37-21"></a><span class="w">    </span><span class="c1">// defaults for all processes</span>
<a id="__codelineno-37-22" name="__codelineno-37-22"></a><span class="w">    </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<a id="__codelineno-37-23" name="__codelineno-37-23"></a><span class="w">    </span><span class="n">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span><span class="na">GB</span>
<a id="__codelineno-37-24" name="__codelineno-37-24"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="42-run-the-workflow-with-the-increased-defaults">4.2. Run the workflow with the increased defaults<a class="headerlink" href="#42-run-the-workflow-with-the-increased-defaults" title="Permanent link">&para;</a></h3>
<p>Let's try that out, bearing in mind that we need to keep <code>-profile my_laptop</code> in the command going forward.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf<span class="w"> </span>-profile<span class="w"> </span>my_laptop
</code></pre></div>
<p>You may not notice any real difference in how quickly this runs, since this is such a small workload.
But if you have a machine with few CPUs and you allocate a high number per process, you might see process calls getting queued behind each other.
This is because Nextflow will ensure we aren't using more CPUs than are available.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can check the number of CPUs allocated to a given process by looking at the <code>.command.run</code> log in its work directory.
There will be a function called <code>nxf_launch()</code> that includes the command <code>docker run—i—-CPU 1024</code>, where <code>--cpu-shares</code> refers to the CPU time given to this process' tasks. Setting one task's cpu_share to 512 and another to 1024 means that the second task will get double the amount of CPU time as the first.</p>
</div>
<p>You're probably wondering if you can set resource allocations per individual process, and the answer is of course yes, yes you can!
We'll show you how to do that in a moment.</p>
<p>But first, let's talk about how you can find out how much CPU and memory your processes are likely to need.
The classic approach is to do resource profiling, meaning you run the workflow with some default allocations, record how much each process used, and from there, estimate how to adjust the base allocations.</p>
<p>The truly excellent news on this front is that Nextflow includes built-in tools for doing this, and will happily generate a report for you on request.
Let's try that out.</p>
<h3 id="43-run-the-workflow-to-generate-a-resource-utilization-report">4.3. Run the workflow to generate a resource utilization report<a class="headerlink" href="#43-run-the-workflow-to-generate-a-resource-utilization-report" title="Permanent link">&para;</a></h3>
<p>To have Nextflow generate the report automatically, simply add <code>-with-report &lt;filename&gt;.html</code> to your command line.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf<span class="w"> </span>-profile<span class="w"> </span>my_laptop<span class="w"> </span>-with-report<span class="w"> </span>report-config-1.html
</code></pre></div>
<p>The report is an html file, which you can download and open in your browser. You can also right click it in the file explorer on the left and click on <code>Show preview</code> in order to view it on Gitpod.</p>
<p>Take a few minutes to look through the report and see if you can identify some opportunities for adjusting resources.
Make sure to click on the tabs that show the utilization results as a percentage of what was allocated.
There is some <a href="https://www.nextflow.io/docs/latest/reports.html">documentation</a> describing all the available features.</p>
<!-- TODO: insert images -->

<p>One observation is that the <code>GATK_JOINTGENOTYPING</code> seems to be very hungry for CPU, which makes sense since it performs a lot of complex calculations.
So we could try boosting that and see if it cuts down on runtime.</p>
<p>However, we seem to have overshot the mark with the memory allocations; all processes are only using a fraction of what we're giving them.
We should dial that back down and save some resources.</p>
<h3 id="44-adjust-resource-allocations-for-a-specific-process">4.4. Adjust resource allocations for a specific process<a class="headerlink" href="#44-adjust-resource-allocations-for-a-specific-process" title="Permanent link">&para;</a></h3>
<p>We can specify resource allocations for a given process using the <code>withName</code> process selector.
The syntax looks like this when it's by itself in a process block:</p>
<div class="highlight"><span class="filename">Syntax</span><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="w">    </span><span class="nl">withName:</span><span class="w"> </span><span class="s1">&#39;GATK_JOINTGENOTYPING&#39;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">        </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="o">}</span>
</code></pre></div>
<p>Let's add that to the existing process block in the <code>nextflow.config</code> file.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-11">11</a></span>
<span class="normal"><a href="#__codelineno-41-12">12</a></span>
<span class="normal"><a href="#__codelineno-41-13">13</a></span>
<span class="normal"><a href="#__codelineno-41-14">14</a></span>
<span class="normal"><a href="#__codelineno-41-15">15</a></span>
<span class="normal"><a href="#__codelineno-41-16">16</a></span>
<span class="normal"><a href="#__codelineno-41-17">17</a></span>
<span class="normal"><a href="#__codelineno-41-18">18</a></span>
<span class="normal"><a href="#__codelineno-41-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-11" name="__codelineno-41-11"></a><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-41-12" name="__codelineno-41-12"></a><span class="w">    </span><span class="c1">// defaults for all processes</span>
<a id="__codelineno-41-13" name="__codelineno-41-13"></a><span class="w">    </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<a id="__codelineno-41-14" name="__codelineno-41-14"></a><span class="w">    </span><span class="n">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="o">.</span><span class="na">GB</span>
<a id="__codelineno-41-15" name="__codelineno-41-15"></a><span class="w">    </span><span class="c1">// allocations for a specific process</span>
<a id="__codelineno-41-16" name="__codelineno-41-16"></a><span class="w">    </span><span class="nl">withName:</span><span class="w"> </span><span class="s1">&#39;GATK_JOINTGENOTYPING&#39;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-41-17" name="__codelineno-41-17"></a><span class="w">        </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<a id="__codelineno-41-18" name="__codelineno-41-18"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-41-19" name="__codelineno-41-19"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>With that specified, the default settings will apply to all processes <strong>except</strong> the <code>GATK_JOINTGENOTYPING</code> process, which is a special snowflake that gets a lot more CPU.
Hopefully that should have an effect.</p>
<h3 id="45-run-again-with-the-modified-configuration">4.5. Run again with the modified configuration<a class="headerlink" href="#45-run-again-with-the-modified-configuration" title="Permanent link">&para;</a></h3>
<p>Let's run the workflow again with the modified configuration and with the reporting flag turned on, but notice we're giving the report a different name so we can differentiate them.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf<span class="w"> </span>-profile<span class="w"> </span>my_laptop<span class="w"> </span>-with-report<span class="w"> </span>report-config-2.html
</code></pre></div>
<p>Once again, you probably won't notice a substantial difference in runtime, because this is such a small workload and the tools spend more time in ancillary tasks than in performing the 'real' work.</p>
<p>However, the second report shows that our resource utilization is more balanced now.</p>
<!-- **TODO: screenshots?** -->

<p>As you can see, this approach is useful when your processes have different resource requirements. It empowers you to right-size the resource allocations you set up for each process based on actual data, not guesswork.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is just a tiny taster of what you can do to optimize your use of resources.
Nextflow itself has some really neat <a href="https://training.nextflow.io/basic_training/debugging/#dynamic-resources-allocation">dynamic retry logic</a> built in to retry jobs that fail due to resource limitations.
Additionally, the Seqera Platform offers AI-driven tooling for optimizing your resource allocations automatically as well.</p>
<p>We'll cover both of those approaches in an upcoming part of this training course.</p>
</div>
<p>That being said, there may be some constraints on what you can (or must) allocate depending on what computing executor and compute infrastructure you're using. For example, your cluster may require you to stay within certain limits that don't apply when you're running elsewhere.</p>
<h3 id="46-add-resource-limits-to-an-hpc-profile">4.6. Add resource limits to an HPC profile<a class="headerlink" href="#46-add-resource-limits-to-an-hpc-profile" title="Permanent link">&para;</a></h3>
<p>You can use the <code>resourceLimits</code> directive to set the relevant limitations. The syntax looks like this when it's by itself in a process block:</p>
<div class="highlight"><span class="filename">Syntax</span><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">    </span><span class="n">resourceLimits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">        </span><span class="nl">memory:</span><span class="w"> </span><span class="mi">750</span><span class="o">.</span><span class="na">GB</span><span class="o">,</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">        </span><span class="nl">cpus:</span><span class="w"> </span><span class="mi">200</span><span class="o">,</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">        </span><span class="nl">time:</span><span class="w"> </span><span class="mi">30</span><span class="o">.</span><span class="na">d</span>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">    </span><span class="o">]</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="o">}</span>
</code></pre></div>
<p>Let's add this to the <code>univ_hpc</code> profile we set up earlier.</p>
<p><em>Before:</em></p>
<div class="highlight"><span class="filename">nextflow.config</span><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="w">    </span><span class="n">univ_hpc</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;slurm&#39;</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">    </span><span class="o">}</span>
</code></pre></div>
<p><em>After:</em></p>
<div class="highlight"><span class="filename">nextflow.config</span><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="w">    </span><span class="n">univ_hpc</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;slurm&#39;</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">resourceLimits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">            </span><span class="nl">memory:</span><span class="w"> </span><span class="mi">750</span><span class="o">.</span><span class="na">GB</span><span class="o">,</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">            </span><span class="nl">cpus:</span><span class="w"> </span><span class="mi">200</span><span class="o">,</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">            </span><span class="nl">time:</span><span class="w"> </span><span class="mi">30</span><span class="o">.</span><span class="na">d</span>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="w">        </span><span class="o">]</span>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="w">    </span><span class="o">}</span>
</code></pre></div>
<p>We can't test this since we don't have a live connection to Slurm in the Gitpod environment.
However, you can try running the workflow with resource allocations that exceed these limits, then look up the <code>sbatch</code> command in the <code>.command.run</code> script file.
You should see that the requests that actually get sent to the executor are capped at the values specified by <code>resourceLimits</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The nf-core project has compiled a <a href="https://nf-co.re/configs/">collection of configuration files</a> shared by various institutions around the world, covering a wide range of HPC and cloud executors.</p>
<p>Those shared configs are valuable both for people who work there and can therefore just utilize their institution's configuration out of the box, and for people who are looking to develop a configuration for their own infrastructure.</p>
</div>
<h3 id="takeaway_4">Takeaway<a class="headerlink" href="#takeaway_4" title="Permanent link">&para;</a></h3>
<p>You know how to allocate process resources, tweak those allocations based on the utilization report, and use a profile to adapt the allocations to the compute environment.</p>
<h3 id="whats-next_4">What's next?<a class="headerlink" href="#whats-next_4" title="Permanent link">&para;</a></h3>
<p>Configuring the parameters destined for the tools and operations wrapped within processes.</p>
<hr />
<h2 id="5-configure-workflow-parameters">5. Configure workflow parameters<a class="headerlink" href="#5-configure-workflow-parameters" title="Permanent link">&para;</a></h2>
<p>So far we've been exploring options for configuring how Nextflow behaves in terms of executing the work.
That's all well and good, but how do we manage the parameters that are meant for the workflow itself, and the tools it calls within the processes?
That is also something we should be able to do without editing code files every time we want to run on some new data or switch to a different set of reference files.</p>
<p>As it turns out, there's a lot of overlap between this kind of configuration and the infrastructure configuration, starting with the <code>nextflow.config</code> file, which can also house default values for command line parameters.</p>
<h3 id="51-move-the-default-parameter-declarations-to-the-configuration-file">5.1. Move the default parameter declarations to the configuration file<a class="headerlink" href="#51-move-the-default-parameter-declarations-to-the-configuration-file" title="Permanent link">&para;</a></h3>
<p>We originally stored all our default parameter values in the workflow script itself, but we can move them out into the <code>nextflow.config</code> file if we prefer.</p>
<p>So let's cut this set of params out of <code>main.nf</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">main.nf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-46-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-46-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-46-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-46-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-46-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-46-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-46-10">10</a></span>
<span class="normal"><a href="#__codelineno-46-11">11</a></span>
<span class="normal"><a href="#__codelineno-46-12">12</a></span>
<span class="normal"><a href="#__codelineno-46-13">13</a></span>
<span class="normal"><a href="#__codelineno-46-14">14</a></span>
<span class="normal"><a href="#__codelineno-46-15">15</a></span>
<span class="normal"><a href="#__codelineno-46-16">16</a></span>
<span class="normal"><a href="#__codelineno-46-17">17</a></span>
<span class="normal"><a href="#__codelineno-46-18">18</a></span>
<span class="normal"><a href="#__codelineno-46-19">19</a></span>
<span class="normal"><a href="#__codelineno-46-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="cm">/*</span>
<a id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="cm"> * Pipeline parameters</span>
<a id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="cm"> */</span>
<a id="__codelineno-46-6" name="__codelineno-46-6"></a>
<a id="__codelineno-46-7" name="__codelineno-46-7"></a><span class="c1">// Primary input (file of input files, one per line)</span>
<a id="__codelineno-46-8" name="__codelineno-46-8"></a><span class="n">params</span><span class="o">.</span><span class="na">reads_bam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/sample_bams.txt&quot;</span>
<a id="__codelineno-46-9" name="__codelineno-46-9"></a>
<a id="__codelineno-46-10" name="__codelineno-46-10"></a><span class="c1">// Output directory</span>
<a id="__codelineno-46-11" name="__codelineno-46-11"></a><span class="n">params</span><span class="o">.</span><span class="na">outdir</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;results_genomics&#39;</span>
<a id="__codelineno-46-12" name="__codelineno-46-12"></a>
<a id="__codelineno-46-13" name="__codelineno-46-13"></a><span class="c1">// Accessory files</span>
<a id="__codelineno-46-14" name="__codelineno-46-14"></a><span class="n">params</span><span class="o">.</span><span class="na">reference</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/ref.fasta&quot;</span>
<a id="__codelineno-46-15" name="__codelineno-46-15"></a><span class="n">params</span><span class="o">.</span><span class="na">reference_index</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/ref.fasta.fai&quot;</span>
<a id="__codelineno-46-16" name="__codelineno-46-16"></a><span class="n">params</span><span class="o">.</span><span class="na">reference_dict</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/ref.dict&quot;</span>
<a id="__codelineno-46-17" name="__codelineno-46-17"></a><span class="n">params</span><span class="o">.</span><span class="na">intervals</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/intervals.bed&quot;</span>
<a id="__codelineno-46-18" name="__codelineno-46-18"></a>
<a id="__codelineno-46-19" name="__codelineno-46-19"></a><span class="c1">// Base name for final output file</span>
<a id="__codelineno-46-20" name="__codelineno-46-20"></a><span class="n">params</span><span class="o">.</span><span class="na">cohort_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;family_trio&quot;</span>
</code></pre></div></td></tr></table></div>
<p>And let's stick it into the <code>nextflow.config</code> file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It doesn't really matter where we put it into the file, as long as we keep the params together and avoid mixing them in with the infrastructure configuration, for the sake of readability.
So putting it at the end will do just fine.</p>
</div>
<h3 id="52-run-the-workflow-with-resume-to-verify-that-it-still-works">5.2. Run the workflow with <code>-resume</code> to verify that it still works<a class="headerlink" href="#52-run-the-workflow-with-resume-to-verify-that-it-still-works" title="Permanent link">&para;</a></h3>
<p>Let's check that we haven't broken anything, and let's include the <code>-resume</code> flag.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf<span class="w"> </span>-profile<span class="w"> </span>my_laptop<span class="w"> </span>-resume
</code></pre></div>
<p>Not only does everything work, but all of the process calls are recognized as having been run previously.</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="go"> N E X T F L O W   ~  version 24.10.0</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="go"> ┃ Launching `main.nf` [modest_kay] DSL2 - revision: 328869237b</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="go">[d6/353bb0] SAMTOOLS_INDEX (3)       [100%] 3 of 3, cached: 3 ✔</span>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="go">[dc/2a9e3f] GATK_HAPLOTYPECALLER (2) [100%] 3 of 3, cached: 3 ✔</span>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="go">[fe/a940b2] GATK_JOINTGENOTYPING     [100%] 1 of 1, cached: 1 ✔</span>
</code></pre></div>
<p>Indeed, having moved the parameter values to a different file changes nothing to the command submission that Nextflow generates. The resumability of the pipeline is preserved.</p>
<h3 id="53-streamline-the-syntax-of-the-parameter-defaults">5.3. Streamline the syntax of the parameter defaults<a class="headerlink" href="#53-streamline-the-syntax-of-the-parameter-defaults" title="Permanent link">&para;</a></h3>
<p>Now that our default parameter declarations are in <code>nextflow.config</code>, we can switch to using a more structured syntax using a <code>params</code> block. That allows us to remove the repeated <code>params.</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-35">35</a></span>
<span class="normal"><a href="#__codelineno-49-36">36</a></span>
<span class="normal"><a href="#__codelineno-49-37">37</a></span>
<span class="normal"><a href="#__codelineno-49-38">38</a></span>
<span class="normal"><a href="#__codelineno-49-39">39</a></span>
<span class="normal"><a href="#__codelineno-49-40">40</a></span>
<span class="normal"><a href="#__codelineno-49-41">41</a></span>
<span class="normal"><a href="#__codelineno-49-42">42</a></span>
<span class="normal"><a href="#__codelineno-49-43">43</a></span>
<span class="normal"><a href="#__codelineno-49-44">44</a></span>
<span class="normal"><a href="#__codelineno-49-45">45</a></span>
<span class="normal"><a href="#__codelineno-49-46">46</a></span>
<span class="normal"><a href="#__codelineno-49-47">47</a></span>
<span class="normal"><a href="#__codelineno-49-48">48</a></span>
<span class="normal"><a href="#__codelineno-49-49">49</a></span>
<span class="normal"><a href="#__codelineno-49-50">50</a></span>
<span class="normal"><a href="#__codelineno-49-51">51</a></span>
<span class="normal"><a href="#__codelineno-49-52">52</a></span>
<span class="normal"><a href="#__codelineno-49-53">53</a></span>
<span class="normal"><a href="#__codelineno-49-54">54</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-49-35" name="__codelineno-49-35"></a><span class="cm">/*</span>
<a id="__codelineno-49-36" name="__codelineno-49-36"></a><span class="cm"> * Pipeline parameters</span>
<a id="__codelineno-49-37" name="__codelineno-49-37"></a><span class="cm"> */</span>
<a id="__codelineno-49-38" name="__codelineno-49-38"></a>
<a id="__codelineno-49-39" name="__codelineno-49-39"></a><span class="n">params</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-49-40" name="__codelineno-49-40"></a><span class="w">    </span><span class="c1">// Primary input (file of input files, one per line)</span>
<a id="__codelineno-49-41" name="__codelineno-49-41"></a><span class="w">    </span><span class="n">reads_bam</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/sample_bams.txt&quot;</span>
<a id="__codelineno-49-42" name="__codelineno-49-42"></a>
<a id="__codelineno-49-43" name="__codelineno-49-43"></a><span class="w">    </span><span class="c1">// Output directory</span>
<a id="__codelineno-49-44" name="__codelineno-49-44"></a><span class="w">    </span><span class="n">outdir</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;results_genomics&#39;</span>
<a id="__codelineno-49-45" name="__codelineno-49-45"></a>
<a id="__codelineno-49-46" name="__codelineno-49-46"></a><span class="w">    </span><span class="c1">// Accessory files</span>
<a id="__codelineno-49-47" name="__codelineno-49-47"></a><span class="w">    </span><span class="n">reference</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/ref.fasta&quot;</span>
<a id="__codelineno-49-48" name="__codelineno-49-48"></a><span class="w">    </span><span class="n">reference_index</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/ref.fasta.fai&quot;</span>
<a id="__codelineno-49-49" name="__codelineno-49-49"></a><span class="w">    </span><span class="n">reference_dict</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/ref.dict&quot;</span>
<a id="__codelineno-49-50" name="__codelineno-49-50"></a><span class="w">    </span><span class="n">intervals</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/intervals.bed&quot;</span>
<a id="__codelineno-49-51" name="__codelineno-49-51"></a>
<a id="__codelineno-49-52" name="__codelineno-49-52"></a><span class="w">    </span><span class="c1">// Base name for final output file</span>
<a id="__codelineno-49-53" name="__codelineno-49-53"></a><span class="w">    </span><span class="n">cohort_name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;family_trio&quot;</span>
<a id="__codelineno-49-54" name="__codelineno-49-54"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Feel free to re-run this with the same command as above to verify that it works and still preserves the resumability of the pipeline.</p>
<p>At this point, you may be wondering how to provide actual data and reference files to run this workflow for real, since what we've put in here is just a tiny test set.</p>
<p>There are several options.
As we mentioned earlier (see note at the start of this page), you can override the defaults specified in the <code>nextflow.config</code> file by providing directives or parameter values on the command line, or by importing other configuration files.</p>
<p>In this particular case, the best solution is to use a parameter file, which is a JSON file containing key-value pairs for all of the parameters you want to supply values for.</p>
<h3 id="54-using-a-parameter-file-to-override-defaults">5.4. Using a parameter file to override defaults<a class="headerlink" href="#54-using-a-parameter-file-to-override-defaults" title="Permanent link">&para;</a></h3>
<p>We provide a parameter file in the current directory, called <code>demo-params.json</code>, which contains key-value pairs for all of the parameters our workflow expects.
The values are the same input files and reference files we've been using so far.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">demo-params.json</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1">1</a></span>
<span class="normal"><a href="#__codelineno-50-2">2</a></span>
<span class="normal"><a href="#__codelineno-50-3">3</a></span>
<span class="normal"><a href="#__codelineno-50-4">4</a></span>
<span class="normal"><a href="#__codelineno-50-5">5</a></span>
<span class="normal"><a href="#__codelineno-50-6">6</a></span>
<span class="normal"><a href="#__codelineno-50-7">7</a></span>
<span class="normal"><a href="#__codelineno-50-8">8</a></span>
<span class="normal"><a href="#__codelineno-50-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="p">{</span>
<a id="__codelineno-50-2" name="__codelineno-50-2"></a><span class="w">    </span><span class="nt">&quot;reads_bam&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;data/sample_bams.txt&quot;</span><span class="p">,</span>
<a id="__codelineno-50-3" name="__codelineno-50-3"></a><span class="w">    </span><span class="nt">&quot;outdir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;results_genomics&quot;</span><span class="p">,</span>
<a id="__codelineno-50-4" name="__codelineno-50-4"></a><span class="w">    </span><span class="nt">&quot;reference&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;data/ref/ref.fasta&quot;</span><span class="p">,</span>
<a id="__codelineno-50-5" name="__codelineno-50-5"></a><span class="w">    </span><span class="nt">&quot;reference_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;data/ref/ref.fasta.fai&quot;</span><span class="p">,</span>
<a id="__codelineno-50-6" name="__codelineno-50-6"></a><span class="w">    </span><span class="nt">&quot;reference_dict&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;data/ref/ref.dict&quot;</span><span class="p">,</span>
<a id="__codelineno-50-7" name="__codelineno-50-7"></a><span class="w">    </span><span class="nt">&quot;intervals&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;data/ref/intervals.bed&quot;</span><span class="p">,</span>
<a id="__codelineno-50-8" name="__codelineno-50-8"></a><span class="w">    </span><span class="nt">&quot;cohort_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;family_trio&quot;</span>
<a id="__codelineno-50-9" name="__codelineno-50-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>To run the workflow with this parameter file, simply add <code>-params-file demo-params.json</code> to the base command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf<span class="w"> </span>-profile<span class="w"> </span>my_laptop<span class="w"> </span>-params-file<span class="w"> </span>demo-params.json
</code></pre></div>
<p>It works! And as expected, this produces the same outputs as previously.</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="go"> N E X T F L O W   ~  version 24.10.0</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="go"> ┃ Launching `main.nf` [marvelous_mandelbrot] DSL2 - revision: 328869237b</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="go">executor &gt;  local (7)</span>
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="go">[63/23a827] SAMTOOLS_INDEX (1)       [100%] 3 of 3 ✔</span>
<a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="go">[aa/60aa4a] GATK_HAPLOTYPECALLER (2) [100%] 3 of 3 ✔</span>
<a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="go">[35/bda5eb] GATK_JOINTGENOTYPING     [100%] 1 of 1 ✔</span>
</code></pre></div>
<p>However, you may be thinking, well, did we really override the configuration? How would we know, since those were the same files?</p>
<h3 id="55-remove-or-generalize-default-values-from-nextflowconfig">5.5. Remove or generalize default values from <code>nextflow.config</code><a class="headerlink" href="#55-remove-or-generalize-default-values-from-nextflowconfig" title="Permanent link">&para;</a></h3>
<p>Let's strip out all the file paths from the <code>params</code> block in <code>nextflow.config</code>, replacing them with <code>null</code>, and replace the <code>cohort_name</code> value with something more generic.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-39">39</a></span>
<span class="normal"><a href="#__codelineno-53-40">40</a></span>
<span class="normal"><a href="#__codelineno-53-41">41</a></span>
<span class="normal"><a href="#__codelineno-53-42">42</a></span>
<span class="normal"><a href="#__codelineno-53-43">43</a></span>
<span class="normal"><a href="#__codelineno-53-44">44</a></span>
<span class="normal"><a href="#__codelineno-53-45">45</a></span>
<span class="normal"><a href="#__codelineno-53-46">46</a></span>
<span class="normal"><a href="#__codelineno-53-47">47</a></span>
<span class="normal"><a href="#__codelineno-53-48">48</a></span>
<span class="normal"><a href="#__codelineno-53-49">49</a></span>
<span class="normal"><a href="#__codelineno-53-50">50</a></span>
<span class="normal"><a href="#__codelineno-53-51">51</a></span>
<span class="normal"><a href="#__codelineno-53-52">52</a></span>
<span class="normal"><a href="#__codelineno-53-53">53</a></span>
<span class="normal"><a href="#__codelineno-53-54">54</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-53-39" name="__codelineno-53-39"></a><span class="n">params</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-53-40" name="__codelineno-53-40"></a><span class="w">    </span><span class="c1">// Primary input (file of input files, one per line)</span>
<a id="__codelineno-53-41" name="__codelineno-53-41"></a><span class="w">    </span><span class="n">reads_bam</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/sample_bams.txt&quot;</span>
<a id="__codelineno-53-42" name="__codelineno-53-42"></a>
<a id="__codelineno-53-43" name="__codelineno-53-43"></a><span class="w">    </span><span class="c1">// Output directory</span>
<a id="__codelineno-53-44" name="__codelineno-53-44"></a><span class="w">    </span><span class="n">outdir</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;results_genomics&#39;</span>
<a id="__codelineno-53-45" name="__codelineno-53-45"></a>
<a id="__codelineno-53-46" name="__codelineno-53-46"></a><span class="w">    </span><span class="c1">// Accessory files</span>
<a id="__codelineno-53-47" name="__codelineno-53-47"></a><span class="w">    </span><span class="n">reference</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/ref.fasta&quot;</span>
<a id="__codelineno-53-48" name="__codelineno-53-48"></a><span class="w">    </span><span class="n">reference_index</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/ref.fasta.fai&quot;</span>
<a id="__codelineno-53-49" name="__codelineno-53-49"></a><span class="w">    </span><span class="n">reference_dict</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/ref.dict&quot;</span>
<a id="__codelineno-53-50" name="__codelineno-53-50"></a><span class="w">    </span><span class="n">intervals</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${projectDir}/data/ref/intervals.bed&quot;</span>
<a id="__codelineno-53-51" name="__codelineno-53-51"></a>
<a id="__codelineno-53-52" name="__codelineno-53-52"></a><span class="w">    </span><span class="c1">// Base name for final output file</span>
<a id="__codelineno-53-53" name="__codelineno-53-53"></a><span class="w">    </span><span class="n">cohort_name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;family_trio&quot;</span>
<a id="__codelineno-53-54" name="__codelineno-53-54"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-39">39</a></span>
<span class="normal"><a href="#__codelineno-54-40">40</a></span>
<span class="normal"><a href="#__codelineno-54-41">41</a></span>
<span class="normal"><a href="#__codelineno-54-42">42</a></span>
<span class="normal"><a href="#__codelineno-54-43">43</a></span>
<span class="normal"><a href="#__codelineno-54-44">44</a></span>
<span class="normal"><a href="#__codelineno-54-45">45</a></span>
<span class="normal"><a href="#__codelineno-54-46">46</a></span>
<span class="normal"><a href="#__codelineno-54-47">47</a></span>
<span class="normal"><a href="#__codelineno-54-48">48</a></span>
<span class="normal"><a href="#__codelineno-54-49">49</a></span>
<span class="normal"><a href="#__codelineno-54-50">50</a></span>
<span class="normal"><a href="#__codelineno-54-51">51</a></span>
<span class="normal"><a href="#__codelineno-54-52">52</a></span>
<span class="normal"><a href="#__codelineno-54-53">53</a></span>
<span class="normal"><a href="#__codelineno-54-54">54</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-54-39" name="__codelineno-54-39"></a><span class="n">params</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-54-40" name="__codelineno-54-40"></a><span class="w">    </span><span class="c1">// Primary input (file of input files, one per line)</span>
<a id="__codelineno-54-41" name="__codelineno-54-41"></a><span class="w">    </span><span class="n">reads_bam</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-54-42" name="__codelineno-54-42"></a>
<a id="__codelineno-54-43" name="__codelineno-54-43"></a><span class="w">    </span><span class="c1">// Output directory</span>
<a id="__codelineno-54-44" name="__codelineno-54-44"></a><span class="w">    </span><span class="n">outdir</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-54-45" name="__codelineno-54-45"></a>
<a id="__codelineno-54-46" name="__codelineno-54-46"></a><span class="w">    </span><span class="c1">// Accessory files</span>
<a id="__codelineno-54-47" name="__codelineno-54-47"></a><span class="w">    </span><span class="n">reference</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-54-48" name="__codelineno-54-48"></a><span class="w">    </span><span class="n">reference_index</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-54-49" name="__codelineno-54-49"></a><span class="w">    </span><span class="n">reference_dict</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-54-50" name="__codelineno-54-50"></a><span class="w">    </span><span class="n">intervals</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-54-51" name="__codelineno-54-51"></a>
<a id="__codelineno-54-52" name="__codelineno-54-52"></a><span class="w">    </span><span class="c1">// Base name for final output file</span>
<a id="__codelineno-54-53" name="__codelineno-54-53"></a><span class="w">    </span><span class="n">cohort_name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_cohort&quot;</span>
<a id="__codelineno-54-54" name="__codelineno-54-54"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Now, if you run the same command again, it will still work.
So yes, we're definitely able to pull those parameter values from the parameter file.</p>
<p>This is great because, with the parameter file in hand, we'll now be able to provide parameter values at runtime without having to type massive command lines <strong>and</strong> without modifying the workflow nor the default configuration.</p>
<p>That being said, it was nice to be able to demo the workflow without having to keep track of filenames and such. Let's see if we can use a profile to replicate that behavior.</p>
<h3 id="56-create-a-demo-profile">5.6. Create a demo profile<a class="headerlink" href="#56-create-a-demo-profile" title="Permanent link">&para;</a></h3>
<p>Yes we can! We just need to retrieve the default parameter declarations as they were written in the original workflow (with the <code>params.*</code> syntax) and copy them into a new profile that we'll call <code>demo</code>.</p>
<p><em>Before:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-55-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-55-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-55-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-55-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-55-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-55-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-55-10">10</a></span>
<span class="normal"><a href="#__codelineno-55-11">11</a></span>
<span class="normal"><a href="#__codelineno-55-12">12</a></span>
<span class="normal"><a href="#__codelineno-55-13">13</a></span>
<span class="normal"><a href="#__codelineno-55-14">14</a></span>
<span class="normal"><a href="#__codelineno-55-15">15</a></span>
<span class="normal"><a href="#__codelineno-55-16">16</a></span>
<span class="normal"><a href="#__codelineno-55-17">17</a></span>
<span class="normal"><a href="#__codelineno-55-18">18</a></span>
<span class="normal"><a href="#__codelineno-55-19">19</a></span>
<span class="normal"><a href="#__codelineno-55-20">20</a></span>
<span class="normal"><a href="#__codelineno-55-21">21</a></span>
<span class="normal"><a href="#__codelineno-55-22">22</a></span>
<span class="normal"><a href="#__codelineno-55-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="n">profiles</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-55-4" name="__codelineno-55-4"></a><span class="w">    </span><span class="n">docker_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-55-5" name="__codelineno-55-5"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-55-6" name="__codelineno-55-6"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-55-7" name="__codelineno-55-7"></a><span class="w">    </span><span class="n">conda_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-55-8" name="__codelineno-55-8"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-55-9" name="__codelineno-55-9"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-55-10" name="__codelineno-55-10"></a><span class="w">    </span><span class="n">my_laptop</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-55-11" name="__codelineno-55-11"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;local&#39;</span>
<a id="__codelineno-55-12" name="__codelineno-55-12"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-55-13" name="__codelineno-55-13"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-55-14" name="__codelineno-55-14"></a><span class="w">    </span><span class="n">univ_hpc</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-55-15" name="__codelineno-55-15"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;slurm&#39;</span>
<a id="__codelineno-55-16" name="__codelineno-55-16"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-55-17" name="__codelineno-55-17"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">resourceLimits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>
<a id="__codelineno-55-18" name="__codelineno-55-18"></a><span class="w">            </span><span class="nl">memory:</span><span class="w"> </span><span class="mi">750</span><span class="o">.</span><span class="na">GB</span><span class="o">,</span>
<a id="__codelineno-55-19" name="__codelineno-55-19"></a><span class="w">            </span><span class="nl">cpus:</span><span class="w"> </span><span class="mi">200</span><span class="o">,</span>
<a id="__codelineno-55-20" name="__codelineno-55-20"></a><span class="w">            </span><span class="nl">time:</span><span class="w"> </span><span class="mi">30</span><span class="o">.</span><span class="na">d</span>
<a id="__codelineno-55-21" name="__codelineno-55-21"></a><span class="w">        </span><span class="o">]</span>
<a id="__codelineno-55-22" name="__codelineno-55-22"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-55-23" name="__codelineno-55-23"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><em>After:</em></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">nextflow.config</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-56-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-56-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-56-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-56-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-56-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-56-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-56-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-56-10">10</a></span>
<span class="normal"><a href="#__codelineno-56-11">11</a></span>
<span class="normal"><a href="#__codelineno-56-12">12</a></span>
<span class="normal"><a href="#__codelineno-56-13">13</a></span>
<span class="normal"><a href="#__codelineno-56-14">14</a></span>
<span class="normal"><a href="#__codelineno-56-15">15</a></span>
<span class="normal"><a href="#__codelineno-56-16">16</a></span>
<span class="normal"><a href="#__codelineno-56-17">17</a></span>
<span class="normal"><a href="#__codelineno-56-18">18</a></span>
<span class="normal"><a href="#__codelineno-56-19">19</a></span>
<span class="normal"><a href="#__codelineno-56-20">20</a></span>
<span class="normal"><a href="#__codelineno-56-21">21</a></span>
<span class="normal"><a href="#__codelineno-56-22">22</a></span>
<span class="normal"><a href="#__codelineno-56-23">23</a></span>
<span class="normal"><a href="#__codelineno-56-24">24</a></span>
<span class="normal"><a href="#__codelineno-56-25">25</a></span>
<span class="normal"><a href="#__codelineno-56-26">26</a></span>
<span class="normal"><a href="#__codelineno-56-27">27</a></span>
<span class="normal"><a href="#__codelineno-56-28">28</a></span>
<span class="normal"><a href="#__codelineno-56-29">29</a></span>
<span class="normal"><a href="#__codelineno-56-30">30</a></span>
<span class="normal"><a href="#__codelineno-56-31">31</a></span>
<span class="normal"><a href="#__codelineno-56-32">32</a></span>
<span class="normal"><a href="#__codelineno-56-33">33</a></span>
<span class="normal"><a href="#__codelineno-56-34">34</a></span>
<span class="normal"><a href="#__codelineno-56-35">35</a></span>
<span class="normal"><a href="#__codelineno-56-36">36</a></span>
<span class="normal"><a href="#__codelineno-56-37">37</a></span>
<span class="normal"><a href="#__codelineno-56-38">38</a></span>
<span class="normal"><a href="#__codelineno-56-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-56-3" name="__codelineno-56-3"></a><span class="n">profiles</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-56-4" name="__codelineno-56-4"></a><span class="w">    </span><span class="n">docker_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-56-5" name="__codelineno-56-5"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-56-6" name="__codelineno-56-6"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-56-7" name="__codelineno-56-7"></a><span class="w">    </span><span class="n">conda_on</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-56-8" name="__codelineno-56-8"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-56-9" name="__codelineno-56-9"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-56-10" name="__codelineno-56-10"></a><span class="w">    </span><span class="n">my_laptop</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-56-11" name="__codelineno-56-11"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;local&#39;</span>
<a id="__codelineno-56-12" name="__codelineno-56-12"></a><span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-56-13" name="__codelineno-56-13"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-56-14" name="__codelineno-56-14"></a><span class="w">    </span><span class="n">univ_hpc</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-56-15" name="__codelineno-56-15"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;slurm&#39;</span>
<a id="__codelineno-56-16" name="__codelineno-56-16"></a><span class="w">        </span><span class="n">conda</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-56-17" name="__codelineno-56-17"></a><span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">resourceLimits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>
<a id="__codelineno-56-18" name="__codelineno-56-18"></a><span class="w">            </span><span class="nl">memory:</span><span class="w"> </span><span class="mi">750</span><span class="o">.</span><span class="na">GB</span><span class="o">,</span>
<a id="__codelineno-56-19" name="__codelineno-56-19"></a><span class="w">            </span><span class="nl">cpus:</span><span class="w"> </span><span class="mi">200</span><span class="o">,</span>
<a id="__codelineno-56-20" name="__codelineno-56-20"></a><span class="w">            </span><span class="nl">time:</span><span class="w"> </span><span class="mi">30</span><span class="o">.</span><span class="na">d</span>
<a id="__codelineno-56-21" name="__codelineno-56-21"></a><span class="w">        </span><span class="o">]</span>
<a id="__codelineno-56-22" name="__codelineno-56-22"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-56-23" name="__codelineno-56-23"></a><span class="w">    </span><span class="n">demo</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-56-24" name="__codelineno-56-24"></a><span class="w">        </span><span class="c1">// Primary input (file of input files, one per line)</span>
<a id="__codelineno-56-25" name="__codelineno-56-25"></a><span class="w">        </span><span class="n">params</span><span class="o">.</span><span class="na">reads_bam</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;data/sample_bams.txt&quot;</span>
<a id="__codelineno-56-26" name="__codelineno-56-26"></a>
<a id="__codelineno-56-27" name="__codelineno-56-27"></a><span class="w">        </span><span class="c1">// Output directory</span>
<a id="__codelineno-56-28" name="__codelineno-56-28"></a><span class="w">        </span><span class="n">params</span><span class="o">.</span><span class="na">outdir</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;results_genomics&#39;</span>
<a id="__codelineno-56-29" name="__codelineno-56-29"></a>
<a id="__codelineno-56-30" name="__codelineno-56-30"></a><span class="w">        </span><span class="c1">// Accessory files</span>
<a id="__codelineno-56-31" name="__codelineno-56-31"></a><span class="w">        </span><span class="n">params</span><span class="o">.</span><span class="na">reference</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;data/ref/ref.fasta&quot;</span>
<a id="__codelineno-56-32" name="__codelineno-56-32"></a><span class="w">        </span><span class="n">params</span><span class="o">.</span><span class="na">reference_index</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;data/ref/ref.fasta.fai&quot;</span>
<a id="__codelineno-56-33" name="__codelineno-56-33"></a><span class="w">        </span><span class="n">params</span><span class="o">.</span><span class="na">reference_dict</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;data/ref/ref.dict&quot;</span>
<a id="__codelineno-56-34" name="__codelineno-56-34"></a><span class="w">        </span><span class="n">params</span><span class="o">.</span><span class="na">intervals</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;data/ref/intervals.bed&quot;</span>
<a id="__codelineno-56-35" name="__codelineno-56-35"></a>
<a id="__codelineno-56-36" name="__codelineno-56-36"></a><span class="w">        </span><span class="c1">// Base name for final output file</span>
<a id="__codelineno-56-37" name="__codelineno-56-37"></a><span class="w">        </span><span class="n">params</span><span class="o">.</span><span class="na">cohort_name</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;family_trio&quot;</span>
<a id="__codelineno-56-38" name="__codelineno-56-38"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-56-39" name="__codelineno-56-39"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>As long as we distribute the data bundle with the workflow code, this will enable anyone to quickly try out the workflow without having to supply their own inputs or pointing to the parameter file. Besides, we can provide URLs to where files are stored and Nextflow will download them automatically.</p>
<h3 id="57-run-with-the-demo-profile">5.7. Run with the demo profile<a class="headerlink" href="#57-run-with-the-demo-profile" title="Permanent link">&para;</a></h3>
<p>Let's try that out:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>main.nf<span class="w"> </span>-profile<span class="w"> </span>my_laptop,demo
</code></pre></div>
<p>And it works perfectly!</p>
<div class="highlight"><span class="filename">Output</span><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="go"> N E X T F L O W   ~  version 24.10.0</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="go"> ┃ Launching `main.nf` [cheesy_shaw] DSL2 - revision: 328869237b</span>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="go">executor &gt;  local (7)</span>
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="go">[4f/5ea14f] SAMTOOLS_INDEX (1)       [100%] 3 of 3 ✔</span>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="go">[fc/761e86] GATK_HAPLOTYPECALLER (3) [100%] 3 of 3 ✔</span>
<a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a><span class="go">[8a/2f498f] GATK_JOINTGENOTYPING     [100%] 1 of 1 ✔</span>
</code></pre></div>
<p>Imagine what we can do with this tooling in place.
For example, we could also add profiles with popular sets of reference files to save people the trouble of providing their own.</p>
<h3 id="takeaway_5">Takeaway<a class="headerlink" href="#takeaway_5" title="Permanent link">&para;</a></h3>
<p>You know how to manage parameter defaults, override them at runtime using a parameter file, and set up profiles.</p>
<h3 id="whats-next_5">What's next?<a class="headerlink" href="#whats-next_5" title="Permanent link">&para;</a></h3>
<p>Celebrate and relax. Then we'll move on to learning how to modularize the workflow code for optimal maintainability and reuse.</p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Voltar ao topo
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Rodapé" >
        
          
          <a href="../05_hello_operators/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Part 4: Hello Operators">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                Part 4: Hello Operators
              </div>
            </div>
          </a>
        
        
          
          <a href="../07_hello_modules/" class="md-footer__link md-footer__link--next" aria-label="Próximo: Part 6: Hello Modules">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Próximo
              </span>
              <div class="md-ellipsis">
                Part 6: Hello Modules
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
    <div>
        Copyright &copy; 2020-2023,
        <a href="https://seqera.io" target="_blank" rel="noopener">Seqera</a>.
    </div>
    <div class="footer_cc_link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
            <!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.-->
            <path
                d="m245.83 214.87-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93-22.13 0-33.22 14.61-33.22 43.84 0 23.57 9.21 43.84 33.22 43.84 14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98-22.6 0-73.96-10.32-73.96-77.05 0-58.69 43-77.06 72.63-77.06 30.72-.01 52.7 11.95 65.99 35.86zm143.05 0-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93-22.14 0-33.22 14.61-33.22 43.84 0 23.55 9.23 43.84 33.22 43.84 14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98-22.69 0-73.96-9.87-73.96-77.05 0-58.67 42.97-77.06 72.63-77.06 30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248 129.93 0 248.44-100.87 248.44-248 0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81 0-105.42 85.43-203.27 203.72-203.27 112.53 0 202.82 89.46 202.82 203.26-.01 121.69-99.68 202.82-202.84 202.82z"
            ></path>
        </svg>
        <a
            href="https://creativecommons.org/licenses/by-nc-nd/4.0/"
            target="_blank"
            rel="noopener"
            title="Creative Commons CC BY-NC-ND 4.0"
        >
            Creative Commons BY-NC-ND 4.0</a
        >.
    </div>
     Made with
    <a
        href="https://squidfunk.github.io/mkdocs-material/"
        target="_blank"
        rel="noopener"
    >
        Material for MkDocs
    </a>
    
</div>
      
        <div class="md-social">
    <a
        href="https://seqera.io"
        target="_blank"
        rel="noopener"
        class="footer_seqera_logo"
    >
        <img src="/assets/img/seqera_logo_white.png" />
    </a>
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Aceitar</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Gerir configurações</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.code.annotate", "content.code.copy", "navigation.footer", "navigation.tabs", "navigation.top", "navigation.tracking", "search.share", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "search.result.more.one": "Mais 1 nesta p\u00e1gina", "search.result.more.other": "Mais # nesta p\u00e1gina", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.placeholder": "Digite para iniciar a busca", "search.result.term.missing": "Ausente", "select.version": "Selecione a vers\u00e3o"}, "version": {"alias": true, "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>